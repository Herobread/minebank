(this["webpackJsonpminebank-layout"]=this["webpackJsonpminebank-layout"]||[]).push([[0],{32:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},60:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var c=n(4),a=n(26),r=n.n(a),s=(n(53),n(13)),i=(n(54),n(55),n(32),n(56),n(1));function u(){return Object(i.jsxs)("footer",{children:[Object(i.jsx)("p",{children:"Minebank"}),Object(i.jsx)("a",{href:"https://github.com/",children:"Github"})]})}var o=n(0),d=n.n(o),j=n(2),l=n(18),b=n(9),p=n(46),m=n(28),O=n(14),h=Object(p.a)({apiKey:"AIzaSyA4HcFGhb9HTjiCYzymF4cfDM2fl4VU6U4",authDomain:"minebank-r1.firebaseapp.com",projectId:"minebank-r1",storageBucket:"minebank-r1.appspot.com",messagingSenderId:"401386178744",appId:"1:401386178744:web:0dae54f704bff03a6d4c4d"}),x=Object(O.f)(h),f=Object(m.b)(),v=Object(c.createContext)({currentUser:null,currentUserData:{diamonds:"-"},mineshopData:[],register:function(){return Promise},login:function(){return Promise},logout:function(){return Promise},transfer:function(){return Promise},getUserData:function(){return Promise},createProduct:function(){return Promise},getAllProducts:function(){return Promise},getProduct:function(){return Promise},addReview:function(){return Promise},updateProduct:function(){return Promise},updateProfile:function(){return Promise},buyProduct:function(){return Promise},updateOrderStatus:function(){return Promise}}),g=function(){return Object(c.useContext)(v)};function N(e){var t=e.children,n=Object(c.useState)(null),a=Object(b.a)(n,2),r=a[0],s=a[1],u=Object(c.useState)({diamonds:"-"}),o=Object(b.a)(u,2),l=o[0],p=o[1],h=Object(c.useState)(null),g=Object(b.a)(h,2),N=g[0],A=g[1];function k(){return(k=Object(j.a)(d.a.mark((function e(t,n,c,a,r,s,i){var u,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u={img:t,name:n,price:c,description:a,by:r,uid:s,reviews:[]},e.next=3,Object(O.a)(Object(O.b)(x,"goods"),u);case 3:return o=e.sent,i.push(o.id),e.next=7,Object(O.i)(Object(O.c)(x,"users",s),{goods:i});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(j.a)(d.a.mark((function e(t,n,c,a,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.i)(Object(O.c)(x,"goods",t),{img:n,name:c,price:a,description:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(j.a)(d.a.mark((function e(t,n,c,a){var r,s,i,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=t.price,s=(new Date).getTime()+"#",!(parseInt(c.diamonds)-parseInt(r)<0)){e.next=5;break}return e.abrupt("return","Not enough money to buy "+t.name+"("+(parseInt(r)-parseInt(c.diamonds))+" more needed)");case 5:return c.diamonds=parseInt(c.diamonds)-parseInt(r),e.next=8,U(n);case 8:if(i=e.sent,c.nickname!==i.nickname){e.next=13;break}return e.abrupt("return","You can`t buy your product");case 13:return c.recieved.push({_key:s,from:t.by,price:r,name:t.name,img:t.img,address:c.address,done:!1,status:0}),(u=i.requested).push({buyer:a,name:c.nickname,product:{price:r,img:t.img,address:c.address,name:t.name},status:0,done:!1,_key:s}),i={diamonds:parseInt(i.diamonds)+parseInt(r),requested:u},e.next=19,Y(n,i);case 19:return e.next=21,Y(a,c);case 21:return e.abrupt("return","ok");case 22:e.next=27;break;case 24:return e.prev=24,e.t0=e.catch(0),e.abrupt("return",e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})))).apply(this,arguments)}function C(){return(C=Object(j.a)(d.a.mark((function e(t,n,c,a,r,s){var i,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)(Object(O.c)(x,"users",t.buyer));case 2:if(i=e.sent.data(),console.log(r),u=!0,i.recieved.forEach((function(e,n){e._key===t._key&&(i.recieved[n].status=c,!0===i.recieved[n].done&&(u=!1),i.recieved[n].done=a)})),u){e.next=10;break}return e.abrupt("return","Status already updated");case 10:return n.requested[r].status=c,n.requested[r].done=a,-1===c&&(n.diamonds=parseInt(n.diamonds)-parseInt(t.product.price),i.diamonds=parseInt(i.diamonds)+parseInt(t.product.price)),e.next=15,Y(s,n);case 15:return e.next=17,Y(t.buyer,i);case 17:return e.abrupt("return","Updated");case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)(Object(O.b)(x,"goods"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)(Object(O.c)(x,"goods",t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(j.a)(d.a.mark((function e(t,n,c,a){var r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)(Object(O.c)(x,"goods",t));case 2:return r=e.sent,r.data(),void 0===(s=r.data().reviews)&&(s=[]),s.push({by:n,rating:c,description:a}),e.next=9,Object(O.i)(Object(O.c)(x,"goods",t),{reviews:s});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(j.a)(d.a.mark((function e(t,n,c){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(O.c)(x,"userRefs",c),e.next=3,Object(O.d)(a);case 3:if(void 0===e.sent.data()){e.next=6;break}return e.abrupt("return","user-error");case 6:return e.next=8,Object(m.a)(f,t,n).then((function(e){try{Object(O.h)(Object(O.c)(x,"users",e.user.uid),{diamonds:0,nickname:c,img:"",address:"",requested:[],recieved:[],transactions:[{img:"",who:"Minebank",amount:"-",description:"Welcome to Minebank!"}],goods:[]}),Object(O.h)(Object(O.c)(x,"userRefs",c),{uid:e.user.uid})}catch(t){console.error("Error adding document: ",t)}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(m.d)(f,t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return F.apply(this,arguments)}function F(){return(F=Object(j.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(O.c)(x,"users",t),e.next=3,Object(O.d)(n);case 3:if(!(c=e.sent).exists()){e.next=8;break}return e.abrupt("return",c.data());case 8:return console.log("No such document!"),e.abrupt("return");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(j.a)(d.a.mark((function e(t,n,c,a){var s,i,u,o,j,l,b,p,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)(Object(O.c)(x,"userRefs",t));case 2:if(!(s=e.sent).exists()){e.next=29;break}return i=s.data().uid,u=r.uid,e.next=8,Object(O.d)(Object(O.c)(x,"users",u));case 8:return o=e.sent,j=o.data().transactions,l=o.data().img,o=o.data().diamonds,e.next=14,Object(O.d)(Object(O.c)(x,"users",i));case 14:if(b=e.sent,p=b.data().transactions,m=b.data().img,b=b.data().diamonds,!(o-n>=0)){e.next=26;break}return j.push({amount:"-".concat(n),who:"".concat(t),description:"".concat(c),img:m}),e.next=22,Object(O.i)(Object(O.c)(x,"users",u),{diamonds:o-n,transactions:j});case 22:return p.push({amount:"+".concat(n),who:"".concat(a),description:"".concat(c),img:l}),e.next=25,Object(O.i)(Object(O.c)(x,"users",i),{diamonds:parseFloat(b)+parseFloat(n),transactions:p});case 25:return e.abrupt("return","success");case 26:return e.abrupt("return","You don`t have enough money for this");case 29:return e.abrupt("return",'User "'.concat(t,'" doesn`t exist'));case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(j.a)(d.a.mark((function e(t,n,c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.i)(Object(O.c)(x,"users",t),{img:n,address:c});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,t){return V.apply(this,arguments)}function V(){return(V=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.i)(Object(O.c)(x,"users",t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){var e=function(){},t=function(){},n=Object(m.c)(f,(function(n){s(n),n&&(e=Object(O.g)(Object(O.c)(x,"users",n.uid),(function(e){p(e.data())}))),t=Object(O.g)(Object(O.b)(x,"goods"),(function(e){var t=new Map;e.forEach((function(e,n){var c=e.id;(e=e.data()).id=c,t.set(c,e)})),A(t)}))}));return function(){n(),e(),t()}}),[]);var R={currentUser:r,currentUserData:l,mineshopData:N,register:function(e,t,n){return P.apply(this,arguments)},login:function(e,t){return I.apply(this,arguments)},logout:function(){return Object(m.e)(f)},getUserData:U,transfer:function(e,t,n,c){return M.apply(this,arguments)},createProduct:function(e,t,n,c,a,r,s){return k.apply(this,arguments)},getAllProducts:function(){return S.apply(this,arguments)},getProduct:function(e){return D.apply(this,arguments)},addReview:function(e,t,n,c){return E.apply(this,arguments)},updateProduct:function(e,t,n,c,a){return y.apply(this,arguments)},updateProfile:function(e,t,n){return W.apply(this,arguments)},buyProduct:function(e,t,n,c){return w.apply(this,arguments)},updateOrderStatus:function(e,t,n,c,a,r){return C.apply(this,arguments)}};return Object(i.jsx)(v.Provider,{value:R,children:t})}n(60);function A(e){Object(s.g)();var t=g(),n=t.logout,c=t.currentUser;return Object(i.jsxs)("div",{className:"topbar",children:[Object(i.jsxs)(l.b,{to:"/home",className:"link left",children:["Minebank",Object(i.jsx)("sup",{children:"beta"})]}),c?Object(i.jsx)("p",{className:"link right login",onClick:function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Log out"}):Object(i.jsx)(l.b,{className:"link right login",to:"/login",children:"Log in"})]})}function k(){var e=Object(s.g)(),t=g().currentUser;return Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)(A,{}),Object(i.jsx)("div",{className:"frame",children:Object(i.jsxs)("div",{className:"frame-content",children:[Object(i.jsx)("h1",{className:"header",children:"Easy way to pay - Minebank"}),Object(i.jsx)(y,{}),Object(i.jsx)("button",{onClick:function(){e("/signup")},className:"button center",children:t?"Your profile":"Get card"})]})}),Object(i.jsxs)("div",{className:"frame card",children:[Object(i.jsx)("h1",{className:"header",children:"Why Minebank?"}),Object(i.jsxs)("div",{className:"info",children:[Object(i.jsxs)("div",{className:"container-info",children:[Object(i.jsx)("h1",{className:"ci-header",children:"1. No payment fee "}),Object(i.jsx)("p",{children:"We don`t charge any money for payments."})]}),Object(i.jsxs)("div",{className:"container-info",children:[Object(i.jsx)("h1",{className:"ci-header",children:"2. Easy to use"}),Object(i.jsx)("p",{children:"App is easy to use, just create an account and you are ready to do some transactions."})]}),Object(i.jsxs)("div",{className:"container-info",children:[Object(i.jsx)("h1",{className:"ci-header",children:"3. Great customer service"}),Object(i.jsx)("p",{children:"We value our customers providing timely, attentive, upbeat service to a customer."})]})]})]}),Object(i.jsx)(u,{})]})}function y(){return Object(i.jsxs)("div",{className:"card-panel",children:[Object(i.jsx)("p",{className:"card-num",children:"1234 5678 9876 5678"}),Object(i.jsx)("p",{className:"card-info",children:"minepay"})]})}var w=n(20);function C(){var e,t,n=Object(w.b)().enqueueSnackbar,a=Object(c.useState)(!1),r=Object(b.a)(a,2),u=r[0],o=r[1],p=Object(c.useState)("first"),m=Object(b.a)(p,2),O=(m[0],m[1]),h=Object(c.useState)(""),x=Object(b.a)(h,2),f=x[0],v=x[1],N=Object(c.useState)(""),k=Object(b.a)(N,2),y=k[0],C=k[1],S=Object(s.f)(),D=g(),E=D.login,P=D.currentUser,I=Object(s.g)();(Object(c.useEffect)((function(){window.scrollTo(0,0)}),[]),P)&&I(null!==(e=null===(t=S.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/user");return Object(i.jsxs)("div",{children:[Object(i.jsx)(A,{}),Object(i.jsx)("div",{className:"main-container",children:Object(i.jsxs)("div",{className:"transfer-container",children:[Object(i.jsx)("p",{className:"partition-name center",children:"Welcome back!"}),Object(i.jsx)("p",{className:"tc-name",children:"Username:"}),Object(i.jsx)("input",{value:f,onChange:function(e){return v(e.target.value)},className:"input",type:"text",placeholder:"example@gmail.com"}),Object(i.jsx)("p",{className:"tc-name",children:"Password:"}),Object(i.jsx)("input",{value:y,onChange:function(e){return C(e.target.value)},className:"input",type:"password",placeholder:""}),u?Object(i.jsx)("button",{disabled:1,className:"button disabled",children:"Log In"}):Object(i.jsx)("button",{disabled:u,onClick:function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),o(!0),f&&y?E(f,y).catch((function(e){O(e.message),n(e.message,{variant:"error"})})).finally((function(){o(!1)})):(O("Enter valid data"),o(!1),n("Enter valid data",{variant:"error"}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:"button",children:" Log in"}),Object(i.jsxs)("p",{className:"subtext",children:["Don`t have an account? ",Object(i.jsx)(l.b,{className:"link",to:"/signup",children:"Sign up"})]})]})})]})}function S(){var e=Object(w.b)().enqueueSnackbar,t=Object(c.useState)(!1),n=Object(b.a)(t,2),a=n[0],r=n[1],u=Object(c.useState)(""),o=Object(b.a)(u,2),p=o[0],m=o[1],O=Object(c.useState)(""),h=Object(b.a)(O,2),x=h[0],f=h[1],v=Object(c.useState)(""),N=Object(b.a)(v,2),k=N[0],y=N[1],C=g().currentUser,S=g().register;return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(i.jsxs)("div",{children:[C?Object(i.jsx)(s.a,{to:"/user"}):"",Object(i.jsx)(A,{}),Object(i.jsx)("div",{className:"main-container",children:Object(i.jsxs)("div",{className:"transfer-container",id:"auth",children:[Object(i.jsx)("p",{className:"partition-name center",children:"Sign up"}),Object(i.jsx)("p",{className:"tc-name",children:"Your nickname:"}),Object(i.jsx)("input",{value:x,onChange:function(e){return f(e.target.value)},className:"input",type:"text",placeholder:""}),Object(i.jsx)("p",{className:"tc-name",children:"Email:"}),Object(i.jsx)("input",{value:p,onChange:function(e){return m(e.target.value)},className:"input",type:"text",placeholder:"example@gmail.com"}),Object(i.jsx)("p",{className:"tc-name",children:"Password:"}),Object(i.jsx)("input",{value:k,onChange:function(e){return y(e.target.value)},className:"input",type:"password",placeholder:""}),a?Object(i.jsx)("button",{disabled:!0,className:"button disabled",children:"Register"}):Object(i.jsx)("button",{disabled:a,onClick:function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p&&k&&x&&x.indexOf(" ")<0?(n.preventDefault(),r(!0),S(p,k,x).then((function(t){t&&"user-error"===t&&e("Firebase: Error (auth/nickname-already-in-use)",{variant:"error"})})).catch((function(t){e(t.message,{variant:"error"})})).finally((function(){r(!1)}))):e("Please enter valid user data",{variant:"error"});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),className:"button",children:"Register"}),Object(i.jsxs)("p",{className:"subtext",children:["Already have an account? ",Object(i.jsx)(l.b,{className:"link",to:"/login",children:"Log in"})]})]})})]})}var D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEUAAABiMiBPKxCmVyxCHgHNe0Z9QDSBVjS3mWPfw43///9lDEuzAAAAAXRSTlMAQObYZgAAAAFiS0dECmjQ9FYAAAAHdElNRQflAhAGBCzyvfE7AAAA00lEQVRo3u3YwQ2DMAxGYVZgha7ACqzQFViBFbpCt63sSv6FFbVWe3PeO0EkPnGJHFgWIvq7NbpFgICA2dosv9oj0X4LCAj4Bu9WUg9La4CA04IjdYs0vQAB5wZP62H5c9pr3g9DChCwG3hEUp+WX51R+eUAAbuBzmgqeb4my2/LWw8QsBs4spTA8kkOEHAuUJ872nqVMx0gYEsw/Q4YJboyqQAB+4KfJ1UCv0wqQMCWoG+kpI6SBQg4Iyg10Wq9VvnnAAjYEhzRqT0qW4CAfUEiUi/W/GvpYTdY6wAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0wMi0xNlQwNjowNDo0MyswMDowMKebzaQAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMDItMTZUMDY6MDQ6NDMrMDA6MDDWxnUYAAAAIHRFWHRzb2Z0d2FyZQBodHRwczovL2ltYWdlbWFnaWNrLm9yZ7zPHZ0AAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6SGVpZ2h0ADE2MCnLDLYAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgAMTYwujpc6wAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNjEzNDU1NDgzzTsrWgAAABB0RVh0VGh1bWI6OlNpemUAMjk1QnErY1cAAAA2dEVYdFRodW1iOjpVUkkAZmlsZTovLy90bXAvdGh1bWJsci9pbWcxMTc3MDU3MjAwODIzNjYyMTMzNYbEgDsAAAAASUVORK5CYII=";n(66);function E(){return Object(i.jsxs)("nav",{className:"nav-container",children:[Object(i.jsx)(l.b,{className:"nav-link",to:"/user",children:"Bank"}),Object(i.jsx)(l.b,{className:"nav-link",to:"/mineshop",children:"Shop"}),Object(i.jsx)(l.b,{className:"nav-link",to:"/profile",children:"Profile"})]})}var P=n.p+"static/media/profile.18e6d1ec.png";function I(){var e=g(),t=e.currentUser,n=e.currentUserData;e.getcurrentUserData;return Object(i.jsxs)("div",{children:[t?"":Object(i.jsx)(s.a,{to:"/login",state:{from:"/user"}}),Object(i.jsx)(A,{}),Object(i.jsxs)("div",{className:"main-container",children:[Object(i.jsx)(U,{img:n.img,text:"".concat(n.nickname?"Hello, "+n.nickname+"!":"Loading data")}),Object(i.jsx)(F,{amount:n.diamonds}),Object(i.jsx)(E,{}),Object(i.jsx)(U,{text:"Transfer"}),Object(i.jsx)(M,{data:n}),Object(i.jsx)(W,{data:n.transactions})]}),Object(i.jsx)(u,{})]})}function U(e){var t="";return e.img&&(t=Object(i.jsx)("img",{src:e.img,className:"profile-pic",onError:function(e){e.target.onerror=null,e.target.src=P}})),Object(i.jsxs)("div",{className:"partition-container",children:[t,Object(i.jsx)("span",{className:"partition-name",children:e.text})]})}function F(e){return Object(i.jsxs)("div",{className:"wide-card",children:[Object(i.jsxs)("p",{className:"wc-amount",children:[Object(i.jsx)("span",{className:"big-font",children:e.amount})," minecoins"]}),Object(i.jsx)("p",{className:"wc-system",children:"minepay"})]})}function M(e){var t=Object(w.b)().enqueueSnackbar,n=g().transfer,a=e.data,r=Object(c.useState)(null),s=Object(b.a)(r,2),u=s[0],o=s[1],d=Object(c.useState)(null),j=Object(b.a)(d,2),l=j[0],p=j[1],m=Object(c.useState)("Money transfer"),O=Object(b.a)(m,2),h=O[0],x=O[1],f=Object(c.useState)(!1),v=Object(b.a)(f,2),N=v[0],A=v[1],k=Object(c.useState)(null),y=Object(b.a)(k,2),C=(y[0],y[1]),S=Object(c.useState)("description"),D=Object(b.a)(S,2),E=(D[0],D[1]);function P(e,n){t(e,n)}return Object(i.jsxs)("div",{className:"transfer-container",children:[Object(i.jsx)("p",{className:"tc-name",children:"To:"}),Object(i.jsx)("input",{className:"input",type:"text",placeholder:"recipient nickname",onChange:function(e){o(e.target.value)}}),Object(i.jsx)("p",{className:"tc-name",children:"Amount:"}),Object(i.jsx)("input",{className:"input",type:"number",placeholder:"",onChange:function(e){p(e.target.value)},step:"1"}),Object(i.jsx)("p",{className:"tc-name",children:"Description:"}),Object(i.jsx)("input",{className:"input",type:"text",onChange:function(e){x(e.target.value)},maxLength:100,placeholder:"Money transfer"}),!0===N?Object(i.jsx)("button",{className:"button disabled",disabled:!0,children:"Pending..."}):Object(i.jsx)("button",{className:"button",onClick:function(){A(!0),!u||!l||l<1||l>999999||parseInt(l)!==parseFloat(l)?(C("error"),E("Enter valid data"),A(!1),P("Enter valid data",{variant:"error"})):u===a.nickname?(C("error"),E("Error: you can`t transfer money to yourself"),A(!1),P("Error: you can`t transfer money to yourself",{variant:"error"})):n(u,l,h,a.nickname).then((function(e){A(!1),"success"!==e?(C("error"),E(e),P(e,{variant:"error"})):(C("success"),E("Payment successfull"),P("Payment successfull",{variant:"success"}))}))},children:"Send"})]})}function W(e){var t=e.data,n=[];if(void 0!==t){n.push(Object(i.jsx)(U,{text:"All transactions"}));for(var c=Object.keys(t).length-1;c>=0;c-=1)n.push(Object(i.jsx)(Y,{img:t[c].img,name:t[c].who,desc:t[c].description,amount:t[c].amount}))}return Object(i.jsx)("div",{children:n})}function Y(e){var t,n="";return n=0===(null===(t=e.img)||void 0===t?void 0:t.length)?Object(i.jsx)("div",{className:"ts-img initial-letter",children:e.name[0].toUpperCase()}):Object(i.jsx)("img",{className:"ts-img",src:e.img}),Object(i.jsxs)("div",{className:"transaction-card",children:[n,Object(i.jsx)("p",{className:"ts-name",children:e.name}),Object(i.jsx)("p",{className:"ts-desc",children:e.desc}),Object(i.jsx)("p",{className:"ts-amount "+("+"===e.amount[0]?"green":""),children:e.amount})]})}n(67);function V(){var e=g(),t=e.currentUser,n=e.currentUserData,a=e.mineshopData;return Object(i.jsxs)(c.Fragment,{children:[t?"":Object(i.jsx)(s.a,{to:"/login",state:{from:"/mineshop"}}),Object(i.jsx)(A,{}),Object(i.jsxs)("div",{className:"main-container",children:[Object(i.jsx)(U,{img:n.img,text:"".concat(n.nickname?"Hello, "+n.nickname+"!":"Loading data")}),Object(i.jsx)(J,{name:"Winter sale!",description:"Updated stock!"}),Object(i.jsx)(E,{}),Object(i.jsx)(U,{text:"All products"}),Object(i.jsx)("div",{className:"product-container",children:Object(i.jsx)(B,{data:a})}),Object(i.jsx)(U,{text:"Your orders"}),Object(i.jsx)(R,{data:n.recieved}),Object(i.jsx)(U,{text:"Your products"}),Object(i.jsxs)("div",{className:"product-container",children:[Object(i.jsx)(G,{currentUserData:n,data:a}),Object(i.jsx)(Z,{})]}),Object(i.jsx)(U,{text:"Requested products"}),Object(i.jsx)(T,{data:n.requested,user:n})]}),Object(i.jsx)(u,{})]})}function R(e){var t=[],n=Object(c.useState)(5),a=Object(b.a)(n,2),r=a[0],s=a[1],u=0;return void 0!==e.data&&((null===e||void 0===e?void 0:e.data.length)?(e.data.slice().reverse().forEach((function(e){u<r&&t.push(Object(i.jsx)(q,{name:"".concat(e.name," from ").concat(e.from),price:"".concat(e.price," Mc"),desc:["Canceled","Waiting for seller","Done"][parseInt(e.status+1)],img:e.img})),u+=1})),r<e.data.length?t.push(Object(i.jsx)("button",{className:"button",onClick:function(){s(r+5)},children:"Show more"})):u>5&&t.push(Object(i.jsx)("button",{className:"button",onClick:function(){s(5)},children:"Hide"}))):t.push(Object(i.jsx)(Q,{text:"You haven`t made any orders yet"}))),Object(i.jsx)(c.Fragment,{children:t})}function B(e){var t=e.data,n=[];return t&&t.forEach((function(e){n.push(Object(i.jsx)(z,{id:e.id,by:e.by,price:e.price,name:e.name,url:e.img}))})),Object(i.jsx)(c.Fragment,{children:n})}function G(e){var t=[],n=e.currentUserData.goods;return void 0!==n&&e.data&&n.forEach((function(n){var c=e.data.get(n);t.push(Object(i.jsx)(H,{id:n,by:"you",price:c.price,name:c.name,url:c.img,description:c.description}))})),Object(i.jsx)(c.Fragment,{children:t})}function q(e){return Object(i.jsxs)("div",{className:"transaction-card",children:[Object(i.jsx)("img",{className:"ts-img no-bg",src:e.img,onError:function(e){e.target.onerror=null,e.target.src=D}}),Object(i.jsx)("p",{className:"ts-name",children:e.name}),Object(i.jsx)("p",{className:"ts-desc",children:e.desc}),Object(i.jsx)("p",{className:"ts-amount",children:e.price})]})}function T(e){var t=[],n=0,a=Object(c.useState)(5),r=Object(b.a)(a,2),s=r[0],u=r[1];return void 0!==e.data&&(e.data.length?(e.data.slice().reverse().forEach((function(c,a){n<s&&t.push(Object(i.jsx)(L,{id:e.data.length-a-1,user:e.user,productData:c,done:c.done,status:parseInt(c.status),name:"".concat(c.product.name," for ").concat(c.name),price:"buttons",desc:"".concat(c.product.price," Mc").concat(c.product.address?",":""," ").concat(c.product.address),img:c.product.img})),n+=1})),s<e.data.length?t.push(Object(i.jsx)("button",{className:"button",onClick:function(){u(s+5)},children:"Show more"})):n>5&&t.push(Object(i.jsx)("button",{className:"button",onClick:function(){u(5)},children:"Hide"}))):t.push(Object(i.jsx)(Q,{text:"You don`t have any requested products"}))),Object(i.jsx)(c.Fragment,{children:t})}function L(e){var t=Object(w.b)().enqueueSnackbar,n=g(),a=n.updateOrderStatus,r=n.currentUser,s=Object(c.useState)(e.status),u=Object(b.a)(s,2),o=u[0],d=u[1],j=Object(c.useState)(!1),l=Object(b.a)(j,2),p=l[0],m=l[1],O=null;if(e.done){O=Object(i.jsx)("button",{className:"product-status-button-disabled",children:["Canceled","Processing","Done"][e.status+1]})}else O=Object(i.jsxs)("div",{className:"ts-button-container ",children:[Object(i.jsx)("button",{disabled:p,className:"product-status-button ".concat(p?"product-button-disabled":""," ").concat(1===o?"product-button-active ".concat(p?"product-button-active-disabled":""):""),onClick:function(e){d(1)},children:"Done"}),Object(i.jsx)("button",{disabled:p,className:"product-status-button ".concat(p?"product-button-disabled":""," ").concat(0===o?"product-button-active ".concat(p?"product-button-active-disabled":""):""),onClick:function(e){d(0)},children:"Processing"}),Object(i.jsx)("button",{disabled:p,className:"product-status-button ".concat(p?"product-button-disabled":""," ").concat(-1===o?"product-button-active ".concat(p?"product-button-active-disabled":""):""),onClick:function(e){d(-1)},children:"Cancel"}),Object(i.jsx)("button",{className:"product-status-button product-button-save ".concat(p?"product-button-disabled":""),disabled:p,onClick:function(n){n.preventDefault(),0===o?t('Pick "Canceled" or "Done"',{variant:"warning"}):(m(!0),a(e.productData,e.user,o,!0,e.id,r.uid).catch((function(e){console.log(e),t("Error",{variant:"error"}),m(!1)})).then((function(e){"Updated"===e?t("Status updated",{variant:"success"}):t(e,{variant:"error"})})))},children:"Save"})]});return Object(i.jsxs)("div",{className:"transaction-card wide",children:[Object(i.jsx)("img",{className:"ts-img no-bg",src:e.img,onError:function(e){e.target.onerror=null,e.target.src=D}}),Object(i.jsx)("p",{className:"ts-name",children:e.name}),Object(i.jsx)("p",{className:"ts-desc",children:e.desc}),Object(i.jsx)("div",{className:"ts-amount",children:O})]})}function Q(e){return Object(i.jsx)("div",{className:"no-data",children:e.text})}function Z(){var e=Object(w.b)().enqueueSnackbar,t=Object(c.useState)(null),n=Object(b.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(null),u=Object(b.a)(s,2),o=u[0],d=u[1],j=Object(c.useState)(null),l=Object(b.a)(j,2),p=l[0],m=l[1],O=Object(c.useState)(null),h=Object(b.a)(O,2),x=h[0],f=h[1],v=g(),N=v.createProduct,A=v.currentUser,k=v.getUserData;return Object(i.jsxs)("div",{className:"product-card padding-bottom",children:[Object(i.jsx)("div",{children:"Img url"}),Object(i.jsx)("input",{className:"input whitesmoked",onChange:function(e){r(e.target.value)}}),Object(i.jsx)("div",{children:"Product name"}),Object(i.jsx)("input",{className:"input whitesmoked",onChange:function(e){d(e.target.value)}}),Object(i.jsx)("div",{children:"Price"}),Object(i.jsx)("input",{className:"input whitesmoked",onChange:function(e){m(e.target.value)}}),Object(i.jsx)("div",{children:"Description"}),Object(i.jsx)("input",{className:"input whitesmoked",onChange:function(e){f(e.target.value)}}),Object(i.jsx)("div",{className:"edit-button-container",children:Object(i.jsx)("button",{className:"edit-button",onClick:function(){A&&(a&&o&&x&&Number.isInteger(parseFloat(p))&&p>0&&p<1e6?k(A.uid).then((function(t){return N(a,o,p,x,t.nickname,A.uid,t.goods).then((function(){e("Product created",{variant:"success"})}))})):e("Enter valid data",{variant:"error"}))},children:"Create"})})]})}function H(e){var t=Object(w.b)().enqueueSnackbar,n=Object(c.useState)(!1),a=Object(b.a)(n,2),r=a[0],s=a[1],u=g().updateProduct,o=Object(c.useState)(e.url),d=Object(b.a)(o,2),j=d[0],l=d[1],p=Object(c.useState)(e.name),m=Object(b.a)(p,2),O=m[0],h=m[1],x=Object(c.useState)(e.price),f=Object(b.a)(x,2),v=f[0],N=f[1],A=Object(c.useState)(e.description),k=Object(b.a)(A,2),y=k[0],C=k[1],S="";return S=r?Object(i.jsxs)("div",{className:"product-card",children:[Object(i.jsx)("div",{children:"Img url"}),Object(i.jsx)("input",{className:"input whitesmoked",value:j,onChange:function(e){return l(e.target.value)}}),Object(i.jsx)("div",{children:"Product name"}),Object(i.jsx)("input",{className:"input whitesmoked",value:O,onChange:function(e){return h(e.target.value)}}),Object(i.jsx)("div",{children:"Price"}),Object(i.jsx)("input",{className:"input whitesmoked",value:v,onChange:function(e){return N(e.target.value)}}),Object(i.jsx)("div",{children:"Description"}),Object(i.jsx)("input",{className:"input whitesmoked",value:y,onChange:function(e){return C(e.target.value)}}),Object(i.jsxs)("div",{className:"edit-button-container",children:[Object(i.jsx)("button",{className:"edit-button",onClick:function(n){n.preventDefault(),j&&O&&y&&Number.isInteger(parseFloat(v))&&v>0&&v<1e6?u(e.id,j,O,v,y).then((function(){t("Product updated",{variant:"success"})})):t("Enter valid data",{variant:"error"})},children:"Save"}),Object(i.jsx)("button",{className:"edit-button",onClick:function(e){e.preventDefault(),s(!1)},children:"Cancel"})]})]}):Object(i.jsxs)("div",{className:"product-card",children:[Object(i.jsx)("img",{className:"product-img",src:e.url,onError:function(e){e.target.onerror=null,e.target.src=D}}),Object(i.jsx)("div",{className:"product-name",children:e.name}),Object(i.jsxs)("div",{className:"product-price",children:[e.price," ",Object(i.jsx)("span",{className:"thin",children:"Mc"})]}),Object(i.jsxs)("div",{className:"product-detail",children:["By ",e.by]}),Object(i.jsx)("button",{className:"product-button",onClick:function(e){e.preventDefault(),s(!0)},children:"Edit"})]}),Object(i.jsx)("div",{children:S})}function z(e){var t=Object(s.g)();return Object(i.jsxs)("div",{className:"product-card",children:[Object(i.jsx)("img",{className:"product-img",src:e.url,onError:function(e){e.target.onerror=null,e.target.src=D}}),Object(i.jsx)("div",{className:"product-name",children:e.name}),Object(i.jsxs)("div",{className:"product-price",children:[e.price," ",Object(i.jsx)("span",{className:"thin",children:"Mc"})]}),Object(i.jsxs)("div",{className:"product-detail",children:["By ",e.by]}),Object(i.jsx)("button",{className:"product-button",onClick:function(){t("".concat(e.id))},children:"View"})]})}function J(e){return Object(i.jsxs)("div",{className:"promo-card",children:[Object(i.jsx)("div",{className:"promo-name",children:e.name}),Object(i.jsx)("div",{className:"promo-description",children:e.description})]})}n(68);var X=n.p+"static/media/back.58553c7d.svg";function K(){var e=Object(w.b)().enqueueSnackbar,t=Object(s.h)(),n=[],a=g(),r=a.currentUser,o=a.currentUserData,d=a.mineshopData,j=a.buyProduct,l=Object(s.g)();return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[]),null!==d&&(n=d.get(t.productId)?Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)(A,{}),Object(i.jsxs)("div",{className:"main-container",children:[Object(i.jsxs)("div",{className:"vp-back-container",onClick:function(){l("/mineshop")},children:[Object(i.jsx)("img",{className:"vp-back-arrow",src:X}),Object(i.jsx)("div",{className:"vp-back-text",children:"Go back"})]}),Object(i.jsxs)("div",{className:"vp-product-container",children:[Object(i.jsx)("img",{className:"vp-img",src:d.get(t.productId).img,onError:function(e){e.target.onerror=null,e.target.src=D}}),Object(i.jsxs)("div",{className:"vp-info-container",children:[Object(i.jsx)("h1",{className:"vp-name",children:d.get(t.productId).name}),Object(i.jsxs)("div",{className:"vp-price",children:[d.get(t.productId).price," ",Object(i.jsx)("span",{className:"thin",children:"Mc"})]}),Object(i.jsx)("p",{className:"vp-description",children:d.get(t.productId).description}),Object(i.jsx)("button",{className:"vp-button",onClick:function(n){n.preventDefault(),j(d.get(t.productId),d.get(t.productId).uid,o,r.uid).then((function(t){"ok"===t?e("Order created",{preventDuplicate:!1,variant:"success"}):e(t,{variant:"error"})}))},children:"Purchase"})]})]}),Object(i.jsx)(te,{text:"Reviews"}),Object(i.jsx)(_,{id:t.productId}),Object(i.jsx)($,{data:d.get(t.productId).reviews})]}),Object(i.jsx)(u,{})]}):Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)(A,{}),Object(i.jsxs)("div",{className:"main-container",children:[Object(i.jsxs)("div",{className:"vp-back-container",onClick:function(){l(-1)},children:[Object(i.jsx)("img",{className:"vp-back-arrow",src:X}),Object(i.jsx)("div",{className:"vp-back-text",children:"Go back"})]}),Object(i.jsx)(ne,{text:"Looks like this product doesn`t exist"})]}),Object(i.jsx)(u,{})]})),Object(i.jsxs)(c.Fragment,{children:[r?"":Object(i.jsx)(s.a,{to:"/login",state:{from:"/mineshop/"+t.productId}}),n]})}function _(e){var t=Object(w.b)().enqueueSnackbar,n=g(),a=(n.currentUser,n.currentUserData),r=n.addReview,s=Object(c.useState)(50),u=Object(b.a)(s,2),o=u[0],d=u[1],j=Object(c.useState)(""),l=Object(b.a)(j,2),p=l[0],m=l[1],O=Object(c.useState)(!1),h=Object(b.a)(O,2),x=h[0],f=h[1];return Object(i.jsxs)("div",{className:"review-container",children:[Object(i.jsx)("div",{className:"bold",children:"Your review: "}),Object(i.jsx)("input",{className:"range pointer ".concat(o<20?"":o<30?"orange":o<40?"green":"lime"),type:"range",min:"0",max:"50",value:o,onChange:function(e){d(e.target.value)}}),Object(i.jsxs)("span",{className:"review-rating",children:[o/10,"/5"]}),Object(i.jsx)("input",{type:"text",className:"input whitesmoked left-float",placeholder:"Type what you think about product",onChange:function(e){m(e.target.value)}}),Object(i.jsx)("button",{type:"submit",className:"publish-button",onClick:function(n){n.preventDefault(),!0===x?t("Please, no spaming(refresh page if want you want to add another)",{variant:"warning"}):(f(!0),r(e.id,a.nickname,o,p).catch((function(e){t(e,{variant:"error"})})).then((function(){t("Review posted",{variant:"success"})})))},children:"Publish"})]})}function $(e){var t=e.data,n=[],c=[],a=0;if(void 0!==t&&0!==Object.keys(t).length){for(var r=Object.keys(t).length-1;r>=0;r-=1)c.push(Object(i.jsx)(ee,{name:t[r].by,rating:t[r].rating,description:t[r].description})),a+=parseFloat(t[r].rating);Object.keys(t).length>1&&n.push(Object(i.jsx)(ee,{name:"AVERAGE SCORE",rating:Math.round(a/Object.keys(t).length*10)/10})),n.push(c)}else n.push(Object(i.jsx)(ne,{text:"No reviews yet"}));return Object(i.jsx)("div",{children:n})}function ee(e){var t=e.rating,n=e.name,c=e.description;return Object(i.jsxs)("div",{className:"review-container",children:[Object(i.jsx)("span",{className:"bold",children:n}),Object(i.jsx)("input",{className:"range lr-margin ".concat(t<20?"":t<30?"orange":t<40?"green":"lime"," no-cursor"),type:"range",min:"0",max:"50",value:t,disabled:!0}),Object(i.jsxs)("span",{className:"review-rating lr-margin",children:[t/10,"/5"]}),Object(i.jsx)("p",{children:c})]})}function te(e){var t="";return e.img&&(t=Object(i.jsx)("img",{src:e.img,className:"profile-pic"})),Object(i.jsxs)("div",{className:"partition-container",children:[t,Object(i.jsx)("span",{className:"partition-name",children:e.text})]})}function ne(e){return Object(i.jsx)("div",{className:"no-data",children:e.text})}var ce=n(37);function ae(){var e=g(),t=e.currentUser,n=e.currentUserData;return Object(i.jsxs)("div",{children:[t?"":Object(i.jsx)(s.a,{to:"/login",state:{from:"/profile"}}),Object(i.jsx)(A,{}),Object(i.jsxs)("div",{className:"main-container",children:[Object(i.jsx)(U,{img:n.img,text:"".concat(n.nickname?"Hello, "+n.nickname+"!":"Loading data")}),Object(i.jsx)(F,{amount:n.diamonds}),Object(i.jsx)(E,{}),Object(i.jsx)(U,{text:"Profile info"}),Object(i.jsx)(re,{img:n.img+"a",address:n.address,uid:null===t||void 0===t?void 0:t.uid})]}),Object(i.jsx)(u,{})]})}function re(e){var t=Object(w.b)().enqueueSnackbar,n=g().updateProfile,a=Object(c.useState)(e.img),r=Object(b.a)(a,2),s=r[0],u=r[1],o=Object(c.useState)(e.address),d=Object(b.a)(o,2),j=d[0],l=d[1];return Object(i.jsxs)(ce.Fragment,{children:[Object(i.jsx)("p",{className:"tc-name",children:"Profile image url:"}),Object(i.jsx)("input",{className:"input",value:s,onChange:function(e){u(e.target.value)}}),Object(i.jsx)("p",{className:"tc-name",children:"Delivery adress:"}),Object(i.jsx)("input",{className:"input",value:j,onChange:function(e){l(e.target.value)}}),Object(i.jsx)("button",{className:"button",onClick:function(c){c.preventDefault(),n(e.uid,s,j).then((function(){t("Profile updated",{variant:"success"})}))},children:"Save"})]})}n(69);function se(){var e=g(),t=e.currentUser,n=e.getUserData,a=(e.listenUserData,Object(c.useState)({diamonds:"-"})),r=Object(b.a)(a,2),s=r[0],o=r[1],d=Object(c.useState)(0),j=Object(b.a)(d,2),l=j[0],p=j[1];Object(c.useEffect)((function(){t&&n(t.uid).then((function(e){o(e)}))}),[]);var m=[],O=l;return O>=1728&&(m.push(Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("span",{className:"big",children:parseInt(O/1728)}),Object(i.jsx)("span",{className:"small",children:" shulcker"+(parseInt(O/1728)<=1?"":"s")+", "})]})),O-=1728*parseInt(O/1728)),O>=64&&m.push(Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("span",{className:"big",children:parseInt(O/64)}),Object(i.jsx)("span",{className:"small",children:" stack"+(parseInt(O/64)<=1?"":"s")+", "})]})),m.push(Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("span",{className:"big",children:O%64}),Object(i.jsx)("span",{className:"small",children:" item"+(O%64<=1?"":"s")})]})),Object(i.jsxs)("div",{children:[Object(i.jsx)(A,{}),Object(i.jsxs)("div",{className:"main-container",children:[Object(i.jsx)(U,{img:s.img,text:"".concat(s.nickname?"Hello, "+s.nickname+"!":"Loading data")}),Object(i.jsx)(F,{amount:s.diamonds}),Object(i.jsx)(E,{}),Object(i.jsx)(U,{text:"Item"}),Object(i.jsx)("input",{className:"input",type:"number",onChange:function(e){return p(e.target.value)},min:"0",max:Number.MAX_SAFE_INTEGER}),Object(i.jsx)("p",{className:"result",children:m}),Object(i.jsx)(U,{text:"Distance"})]}),Object(i.jsx)(u,{})]})}var ie=function(){return Object(i.jsx)(N,{children:Object(i.jsxs)(s.d,{children:[Object(i.jsx)(s.b,{path:"user",element:Object(i.jsx)(I,{})}),Object(i.jsx)(s.b,{path:"mineshop",element:Object(i.jsx)(V,{})}),Object(i.jsx)(s.b,{path:"mineshop/:productId",element:Object(i.jsx)(K,{})}),Object(i.jsx)(s.b,{path:"profile",element:Object(i.jsx)(ae,{})}),Object(i.jsx)(s.b,{path:"calculators",element:Object(i.jsx)(se,{})}),Object(i.jsx)(s.b,{path:"login",element:Object(i.jsx)(C,{})}),Object(i.jsx)(s.b,{path:"signup",element:Object(i.jsx)(S,{})}),Object(i.jsx)(s.b,{path:"*",element:Object(i.jsx)(k,{})})]})})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};r.a.render(Object(i.jsx)(w.a,{children:Object(i.jsx)(l.a,{children:Object(i.jsx)(ie,{})})}),document.getElementById("root")),ue()}},[[70,1,2]]]);
//# sourceMappingURL=main.37dda295.chunk.js.map