{"version":3,"sources":["pages/footer/Footer.jsx","firebase/firebase.js","firebase/AuthContext.js","pages/user/Topbar.jsx","pages/landing/Landing.jsx","pages/user/Error.jsx","pages/user/Login.jsx","pages/user/Signup.jsx","pages/user/User.jsx","App.js","reportWebVitals.js","index.js"],"names":["Footer","href","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","auth","getAuth","AuthContext","createContext","currentUser","register","Promise","login","logout","transfer","getUserData","useAuth","useContext","AuthContextProvider","children","useState","setCurrentUser","email","password","nickname","a","docRef","doc","getDoc","undefined","data","createUserWithEmailAndPassword","then","userObj","setDoc","user","uid","diamonds","transactions","who","amount","description","e","console","error","docSnap","exists","log","recieverNickname","desc","from","recUid","currentUid","currentUserBal","currentTransactions","recBal","recTransactions","push","updateDoc","parseFloat","useEffect","unsubscribe","onAuthStateChanged","value","signInWithEmailAndPassword","signOut","Provider","Topbar","props","navigate","useNavigate","className","to","onClick","preventDefault","Landing","Card","Error","success","text","Login","errorDesc","setErrorDesc","loading","setLoading","setEmail","setPassword","response","catch","message","onChange","target","type","placeholder","disabled","Signup","setNickname","id","indexOf","res","finally","User","userData","setUserData","Partition","Transfer","GenerateTransactions","reciverNickname","setReciverNickname","reciverAmount","setReciverAmount","reciverText","setReciverText","status","setStatus","setDescription","step","maxLength","parseInt","transactionList","result","i","Object","keys","length","Transaction","name","App","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a9c3d05f.chunk.js","sourcesContent":["import React from 'react'\r\nimport './Footer.css'\r\n\r\nexport default function Footer() {\r\n    return (\r\n        <footer>\r\n            <p>Minebank</p>\r\n            <a href=\"https://github.com/\">Github</a>\r\n        </footer>\r\n    )\r\n}\r\n","import { initializeApp } from 'firebase/app'\r\nimport { getAuth } from 'firebase/auth'\r\n\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyA4HcFGhb9HTjiCYzymF4cfDM2fl4VU6U4\",\r\n    authDomain: \"minebank-r1.firebaseapp.com\",\r\n    projectId: \"minebank-r1\",\r\n    storageBucket: \"minebank-r1.appspot.com\",\r\n    messagingSenderId: \"401386178744\",\r\n    appId: \"1:401386178744:web:0dae54f704bff03a6d4c4d\"\r\n};\r\n  \r\n// Initialize Firebase\r\n\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nexport const db = getFirestore(app);\r\nexport const auth = getAuth()","import { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { auth, db } from './firebase'\r\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from \"firebase/auth\";\r\nimport { setDoc, doc, getDoc, updateDoc } from \"firebase/firestore\";\r\n\r\nconst AuthContext = createContext({\r\n    currentUser: null,\r\n    register: () => Promise,\r\n    login: () => Promise,\r\n    logout: () => Promise,\r\n    transfer: () => Promise,\r\n    getUserData: () => Promise\r\n})\r\n\r\nexport const useAuth = () => useContext(AuthContext)\r\n\r\nexport default function AuthContextProvider({ children }) {\r\n    const [currentUser, setCurrentUser] = useState(null)\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, user => {\r\n            setCurrentUser(user)\r\n        })\r\n        return () => {\r\n            unsubscribe()\r\n        }\r\n    }, [])\r\n\r\n    // 0683398485 военрук про патроні\r\n\r\n    async function register(email, password, nickname) {\r\n        const docRef = doc(db, \"userRefs\", nickname);\r\n        const docSnap = await getDoc(docRef);\r\n        if (!(docSnap.data() === undefined))\r\n            return 'user-error'\r\n\r\n        return await createUserWithEmailAndPassword(auth, email, password).then(userObj => {\r\n            try {\r\n                setDoc(doc(db, \"users\", userObj.user.uid), {\r\n                    diamonds: 10,\r\n                    nickname: nickname,\r\n                    transactions: [{\r\n                        who: 'Minebank',\r\n                        amount: '+10',\r\n                        description: 'Welcome to Minebank!'\r\n                    }]\r\n                })\r\n                setDoc(doc(db, \"userRefs\", nickname), {\r\n                    uid: userObj.user.uid\r\n                })\r\n            } catch (e) {\r\n                console.error(\"Error adding document: \", e)\r\n            }\r\n        })\r\n    }\r\n\r\n    function login(email, password) {\r\n        return signInWithEmailAndPassword(auth, email, password)\r\n    }\r\n\r\n    async function getUserData(uid) {\r\n        const docRef = doc(db, \"users\", uid);\r\n        const docSnap = await getDoc(docRef);\r\n\r\n        if (docSnap.exists()) {\r\n            return docSnap.data()\r\n        } else {\r\n            console.log(\"No such document!\");\r\n            return\r\n        }\r\n    }\r\n\r\n    async function transfer(recieverNickname, amount, desc, from) {\r\n        const docSnap = await getDoc(doc(db, \"userRefs\", recieverNickname))\r\n\r\n        if (docSnap.exists()) {\r\n            const recUid = docSnap.data()[\"uid\"]\r\n            const currentUid = currentUser.uid\r\n            let currentUserBal = await getDoc(doc(db, \"users\", currentUid))\r\n            let currentTransactions = currentUserBal.data()[\"transactions\"]\r\n\r\n            currentUserBal = currentUserBal.data()[\"diamonds\"]\r\n\r\n            let recBal = await getDoc(doc(db, \"users\", recUid))\r\n            let recTransactions = recBal.data()[\"transactions\"]\r\n\r\n            recBal = recBal.data()[\"diamonds\"]\r\n\r\n            if (currentUserBal - amount >= 0) {\r\n                currentTransactions.push({\r\n                    amount: `-${amount}`,\r\n                    who: `${recieverNickname}`,\r\n                    description: `${desc}`\r\n                })\r\n                await updateDoc(doc(db, \"users\", currentUid), {\r\n                    diamonds: currentUserBal - amount,\r\n                    transactions: currentTransactions\r\n                });\r\n\r\n                recTransactions.push({\r\n                    amount: `+${amount}`,\r\n                    who: `${from}`,\r\n                    description: `${desc}`\r\n                })\r\n                await updateDoc(doc(db, \"users\", recUid), {\r\n                    diamonds: parseFloat(recBal) + parseFloat(amount),\r\n                    transactions: recTransactions\r\n                });\r\n                return 'success'\r\n            }\r\n            return 'You don`t have enough money for this'\r\n\r\n        } else {\r\n            return `User \"${recieverNickname}\" doesn\\`t exist`\r\n        }\r\n    }\r\n\r\n    function logout() {\r\n        return signOut(auth)\r\n    }\r\n\r\n    const value = {\r\n        currentUser,\r\n        register,\r\n        login,\r\n        logout,\r\n        getUserData,\r\n        transfer,\r\n    }\r\n\r\n    return <AuthContext.Provider value={value}>\r\n        {children}\r\n    </AuthContext.Provider>\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { useAuth } from '../../firebase/AuthContext'\r\nimport './Topbar.css'\r\nimport './../Main.css'\r\n\r\nexport default function Topbar(props) {\r\n    const navigate = useNavigate()\r\n\r\n    const { logout, currentUser } = useAuth()\r\n\r\n    return (\r\n        <div className=\"topbar\">\r\n            <Link to=\"/home\" className=\"link left\">Minebank<sup>beta</sup></Link>\r\n\r\n            {(currentUser ?\r\n                <p className=\"link right login\" onClick={async e => {\r\n                    e.preventDefault()\r\n                    logout()\r\n                    navigate('/home')\r\n                }}>Log out</p>\r\n                :\r\n                <Link className=\"link right login\" to=\"/login\">Log in</Link>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport './Landing.css'\r\nimport './Card.css'\r\nimport './../Main.css'\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Footer from '../footer/Footer'\r\nimport Topbar from '../user/Topbar';\r\n\r\nexport default function Landing() {\r\n    const navigate = useNavigate()\r\n\r\n    function handleMainRedirect() {\r\n        navigate('/signup')\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <Topbar />\r\n            <div className=\"frame\">\r\n                <div className=\"frame-content\">\r\n                    <h1 className=\"header\">Easy way to pay - Minebank</h1>\r\n\r\n                    <Card />\r\n\r\n                    <button onClick={handleMainRedirect} className=\"button center\">Get card</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"frame card\">\r\n                <h1 className=\"header\">Why Minebank?</h1>\r\n                <div className=\"info\">\r\n                    <div className=\"container-info\">\r\n                        <h1 className=\"ci-header\">1. No payment fee </h1>\r\n                        <p>We don`t charge any money for payments.</p>\r\n                    </div>\r\n                    <div className=\"container-info\">\r\n                        <h1 className=\"ci-header\">2. Easy to use</h1>\r\n                        <p>App is easy to use, just create an account and you are ready to do some transactions.</p>\r\n                    </div>\r\n                    <div className=\"container-info\">\r\n                        <h1 className=\"ci-header\">3. Great customer service</h1>\r\n                        <p>We value our customers providing timely, attentive, upbeat service to a customer.</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* <div className=\"frame card\">\r\n                <h1 className='header'>Where?</h1>\r\n                photo here\r\n            </div> */}\r\n\r\n            <Footer />\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Card() {\r\n    return (\r\n        <div className=\"card-panel\">\r\n            <p className=\"card-num\">1234 5678 9876 5678</p>\r\n            <p className=\"card-info\">minepay</p>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Error(props) {\r\n    let message = {}\r\n\r\n    if (props.success === true) {\r\n        return (\r\n            <div className='error-panel success-panel'>\r\n                {props.text}\r\n            </div>\r\n        )\r\n    }\r\n    else return (\r\n        <div className=\"error-panel\">\r\n            {props.text}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link, Navigate  } from \"react-router-dom\";\r\nimport Topbar from './Topbar'\r\n\r\nimport { useState } from 'react'\r\nimport { useAuth } from '../../firebase/AuthContext';\r\nimport Error from './Error';\r\n\r\nexport default function Login() {\r\n\r\n    const [errorDesc, setErrorDesc] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const { login, currentUser } = useAuth()\r\n\r\n    async function logInHandler() {\r\n        if (email && password) {\r\n            setLoading(true)\r\n            login(email,password)\r\n            .then((response) => console.log(response))\r\n            .catch(e => { setErrorDesc(e.message) })\r\n            .then(setLoading(false))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {currentUser?<Navigate to=\"/user\"/>:\"\"}\r\n            <Topbar />\r\n            <div className=\"main-container\">\r\n                <div className=\"transfer-container\">\r\n                    <p className=\"partition-name center\">Welcome back!</p>\r\n                    <p className=\"tc-name\">Username:</p>\r\n                    <input value={email} onChange={(e) => setEmail(e.target.value)} className=\"input\" type=\"text\" placeholder=\"example@gmail.com\" />\r\n                    <p className=\"tc-name\">Password:</p>\r\n                    <input value={password} onChange={(e) => setPassword(e.target.value)} className=\"input\" type=\"password\" placeholder=\"\" />\r\n\r\n                    <button disabled={loading} onClick={logInHandler} className=\"button\" >Log in</button>\r\n\r\n                    <p className=\"subtext\">Don`t have an acoount? <Link className=\"link\" to=\"/signup\">Sign up</Link></p>\r\n\r\n                    {errorDesc===''?'':<Error text={errorDesc}/>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link, Navigate } from \"react-router-dom\";\r\nimport Topbar from './Topbar'\r\n\r\nimport { useState } from 'react'\r\nimport { useAuth } from '../../firebase/AuthContext';\r\nimport Error from './Error';\r\n\r\nexport default function Signup() {\r\n    const [loading, setLoading] = useState(false)\r\n    const [email, setEmail] = useState('')\r\n    const [nickname, setNickname] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [errorDesc, setErrorDesc] = useState('')\r\n\r\n    const { currentUser } = useAuth()\r\n    const { register } = useAuth()\r\n\r\n    return (\r\n        <div>\r\n            {currentUser ? <Navigate to=\"/user\" /> : \"\"}\r\n            <Topbar />\r\n            <div className=\"main-container\">\r\n                <div className=\"transfer-container\" id=\"auth\">\r\n\r\n                    <p className=\"partition-name center\">Sign up</p>\r\n\r\n                    <p className=\"tc-name\">Your nickname:</p>\r\n                    <input value={nickname} onChange={(e) => setNickname(e.target.value)} className=\"input\" type=\"text\" placeholder=\"\" />\r\n                    <p className=\"tc-name\">Email:</p>\r\n                    <input value={email} onChange={(e) => setEmail(e.target.value)} className=\"input\" type=\"text\" placeholder=\"example@gmail.com\" />\r\n                    <p className=\"tc-name\">Password:</p>\r\n                    <input value={password} onChange={(e) => setPassword(e.target.value)} className=\"input\" type=\"password\" placeholder=\"\" />\r\n\r\n                    <button disabled={loading} onClick={async e => {\r\n                        if (email && password && nickname && nickname.indexOf(' ') < 0) {\r\n\r\n                            e.preventDefault()\r\n\r\n                            setLoading(true)\r\n\r\n                            register(email, password, nickname)\r\n                                .then(res => {\r\n                                    if (res)\r\n                                        if (res === \"user-error\") {\r\n                                            setErrorDesc(\"Firebase: Error (auth/nickname-already-in-use)\")\r\n                                        }\r\n                                })\r\n                                .catch(error => { setErrorDesc(error.message) })\r\n                                .finally(() => {\r\n                                    setLoading(false)\r\n                                })\r\n                        } else {\r\n                            setErrorDesc(\"Please enter valid user data\")\r\n                        }\r\n                    }} className=\"button\" >Register</button>\r\n\r\n                    <p className=\"subtext\">Already have an acoount? <Link className=\"link\" to=\"/login\">Log in</Link></p>\r\n\r\n                    {errorDesc === '' ? '' : <Error text={errorDesc} />}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Navigate } from 'react-router-dom'\r\nimport { useAuth } from '../../firebase/AuthContext'\r\nimport Footer from '../footer/Footer'\r\nimport Error from './Error'\r\nimport Topbar from './Topbar'\r\n\r\nexport default function User() {\r\n    const { currentUser, getUserData } = useAuth()\r\n    const [userData, setUserData] = useState({ diamonds: '-' })\r\n\r\n    useEffect(() => {\r\n        if (currentUser) {\r\n            getUserData(currentUser.uid)\r\n                .then(response => {\r\n                    setUserData(response)\r\n                })\r\n        }\r\n    }, []);\r\n\r\n    // console.log(userData)\r\n    return (\r\n        <div>\r\n            {!currentUser ? <Navigate to='/login' /> : ''}\r\n            <Topbar />\r\n            <div className='main-container'>\r\n                <Partition text={`Hello, ${currentUser ? userData['nickname'] : 'anon'}!`} />\r\n                <Card amount={userData['diamonds']} />\r\n\r\n                <Partition text={'Transfer'} />\r\n                <Transfer data={userData} />\r\n\r\n                <Partition text={'All transactions'} />\r\n                <GenerateTransactions data={userData[\"transactions\"]} />\r\n\r\n\r\n                {/* <Partition text={'Cool data'} />\r\n                <div>\r\n                    {JSON.stringify(userData)}\r\n                </div>\r\n                <Partition text={'User info'} />\r\n                <p>\r\n                    {JSON.stringify(currentUser)}\r\n                </p> */}\r\n            </div>\r\n            <Footer />\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Partition(props) {\r\n    return (\r\n        <div>\r\n            <p className='partition-name'>{props.text}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Card(props) {\r\n    return (\r\n        <div className='wide-card'>\r\n            <p className='wc-amount'><span className='big-font'>{props.amount}</span> diamonds</p>\r\n            <p className='wc-system'>minepay</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Transfer(props) {\r\n    const { transfer } = useAuth()\r\n\r\n    const user = props.data\r\n    const [reciverNickname, setReciverNickname] = useState(null)\r\n    const [reciverAmount, setReciverAmount] = useState(null)\r\n    const [reciverText, setReciverText] = useState(`Money transfer`)\r\n\r\n    const [loading, setLoading] = useState(false)\r\n    const [status, setStatus] = useState(null)\r\n    const [description, setDescription] = useState('ok')\r\n\r\n    function handleSend() {\r\n        setLoading(true)\r\n\r\n        if (!(reciverNickname && reciverAmount) || (reciverAmount < 1 || reciverAmount > 999999) || (parseInt(reciverAmount) != parseFloat(reciverAmount))) {\r\n            setStatus('error')\r\n            setDescription('Error: please enter valid data')\r\n            setLoading(false)\r\n        } else if (reciverNickname === user[\"nickname\"]) {\r\n            setStatus('error')\r\n            setDescription('Error: you can`t transfer money to yourself')\r\n            setLoading(false)\r\n        } else {\r\n            transfer(reciverNickname, reciverAmount, reciverText, user['nickname'])\r\n                .then((res) => {\r\n                    setLoading(false)\r\n                    if (res !== 'success') {\r\n                        setStatus('error')\r\n                        setDescription(res)\r\n                    } else {\r\n                        setStatus('ok')\r\n                        setDescription('Payment successfull')\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='transfer-container'>\r\n            <p className='tc-name'>To:</p>\r\n            <input className='input' type='text' placeholder='recipient nickname' onChange={(e) => { setReciverNickname(e.target.value) }} />\r\n            <p className='tc-name'>Amount:</p>\r\n            <input className='input' type='number' placeholder='' onChange={(e) => { setReciverAmount(e.target.value) }} step=\"1\" />\r\n            <p className='tc-name'>Description:</p>\r\n            <input className='input' type='text' placeholder='' onChange={(e) => { setReciverText(e.target.value) }} maxLength={100} placeholder={`Money transfer`} />\r\n\r\n            {\r\n                loading === true ?\r\n                    <button className='button disabled' disabled={true}>Pending...</button>\r\n                    :\r\n                    <button className='button' onClick={handleSend}>Send</button>\r\n            }\r\n\r\n            {\r\n                status === null ?\r\n                    ''\r\n                    :\r\n                    status === 'ok' ?\r\n                        <Error text={description} success={true} />\r\n                        :\r\n                        <Error text={description} success={false} />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction GenerateTransactions(props) {\r\n    let transactionList = props.data\r\n    let result = []\r\n\r\n    console.log(transactionList)\r\n    if (transactionList !== undefined) {\r\n        for (let i = Object.keys(transactionList).length - 1; i >= 0; i -= 1) {\r\n            result.push(<Transaction name={transactionList[i]['who']} desc={transactionList[i]['description']} amount={transactionList[i]['amount']} />)\r\n            console.log(i)\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            {result}\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Transaction(props) {\r\n    return (\r\n        <div className='transaction-card'>\r\n            <div className='ts-img'></div>\r\n            <p className='ts-name'>{props.name}</p>\r\n            <p className='ts-desc'>{props.desc}</p>\r\n            <p className={'ts-amount ' + (props.amount[0] === '+' ? 'green' : '')}>{props.amount}</p>\r\n        </div>\r\n    )\r\n}","import { Routes, Route } from \"react-router\";\nimport Landing from \"./pages/landing/Landing\";\nimport Login from \"./pages/user/Login\";\nimport Signup from \"./pages/user/Signup\";\nimport User from \"./pages/user/User\";\nimport './pages/Main.css'\nimport AuthContextProvider from \"./firebase/AuthContext\";\n\n\nfunction App() {\n  return (\n    <AuthContextProvider>\n      <Routes>\n        <Route path=\"*\" element={<Landing />} />\n        <Route path=\"user\" element={<User />} />\n        <Route path=\"login\" element={<Login />} />\n        <Route path=\"signup\" element={<Signup />} />\n      </Routes>\n\n      {/* <nav>\n        <Link to=\"/home\" >home </Link>\n        <Link to=\"/user\" >user </Link>\n        <Link to=\"/userss\" >not found</Link>\n      </nav> */}\n    </AuthContextProvider >\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}