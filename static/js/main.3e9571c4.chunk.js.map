{"version":3,"sources":["pages/footer/Footer.jsx","firebase/firebase.js","firebase/AuthContext.js","pages/user/Topbar.jsx","pages/landing/Landing.jsx","pages/user/Login.jsx","pages/user/Signup.jsx","pages/user/item.png","pages/user/UserNav.jsx","pages/user/profile.png","pages/user/User.jsx","pages/user/Mineshop.jsx","pages/user/back.svg","pages/user/ViewProduct.jsx","pages/user/Profile.jsx","pages/user/Calculators.jsx","App.js","reportWebVitals.js","index.js"],"names":["Footer","href","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","auth","getAuth","AuthContext","createContext","currentUser","currentUserData","diamonds","mineshopData","stockData","register","Promise","login","logout","transfer","getUserData","createProduct","getAllProducts","getProduct","addReview","updateProduct","updateProfile","buyProduct","updateOrderStatus","useAuth","useContext","AuthContextProvider","children","useState","setCurrentUser","setCurrentUserData","setMineshopData","setStockData","img","name","price","description","by","uid","goods","a","data","reviews","addDoc","collection","docRef","push","id","updateDoc","doc","productData","sellerUid","buyerData","buyerUid","date","Date","getTime","parseInt","sellerData","_key","from","address","done","status","sellerRequseted","buyer","product","requested","updateUserData","getDoc","console","log","ok","forEach","i","getDocs","rating","docSnap","undefined","email","password","nickname","createUserWithEmailAndPassword","then","userObj","setDoc","user","recieved","transactions","who","amount","e","error","signInWithEmailAndPassword","exists","recieverNickname","desc","recUid","currentUid","currentUserBal","currentTransactions","senderImg","recBal","recTransactions","recieverImg","parseFloat","useEffect","unsubscribeUserData","unsubscribeMineshop","unsubscribeStock","unsubscribe","onAuthStateChanged","onSnapshot","querySnapshot","Map","set","stocks","value","signOut","Provider","Topbar","props","useNavigate","className","to","onClick","preventDefault","Landing","navigate","Card","Login","enqueueSnackbar","useSnackbar","loading","setLoading","setErrorDesc","setEmail","setPassword","location","useLocation","window","scrollTo","state","onChange","target","type","placeholder","disabled","catch","message","variant","finally","Signup","setNickname","indexOf","res","UserNav","User","Partition","text","Transfer","GenerateTransactions","Infobar","result","stock","style","length","src","onError","onerror","graySquare","reciverNickname","setReciverNickname","reciverAmount","setReciverAmount","reciverText","setReciverText","setStatus","setDescription","snackbar","step","maxLength","transactionList","Object","keys","Transaction","profilePic","toUpperCase","Mineshop","Promo","GenerateProducts","GenerateOrders","GenerateUserProducts","NewProduct","GenerateRequested","shown","setShown","slice","reverse","WideProduct","NoData","ProductCard","url","userItemId","temp","get","UserProductCard","item","RequestedProduct","setDisabled","buttons","err","setImg","setName","setPrice","Number","isInteger","isEdit","setIsEdit","setUrl","card","ViewProduct","params","useParams","productId","back","preventDuplicate","NewReview","GenerateReviews","setRating","isPublished","setIsPublished","min","max","sum","Review","Math","round","Profile","Settings","setAddress","Calculators","listenUserData","userData","setUserData","items","setItems","response","itemRes","num","MAX_SAFE_INTEGER","App","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3e9571c4.chunk.js","sourcesContent":["import React from 'react'\r\nimport './Footer.css'\r\n\r\nexport default function Footer() {\r\n    return (\r\n        <footer>\r\n            <p>Minebank</p>\r\n            <a href=\"https://github.com/\">Github</a>\r\n        </footer>\r\n    )\r\n}\r\n","import { initializeApp } from 'firebase/app'\r\nimport { getAuth } from 'firebase/auth'\r\n\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyA4HcFGhb9HTjiCYzymF4cfDM2fl4VU6U4\",\r\n    authDomain: \"minebank-r1.firebaseapp.com\",\r\n    projectId: \"minebank-r1\",\r\n    storageBucket: \"minebank-r1.appspot.com\",\r\n    messagingSenderId: \"401386178744\",\r\n    appId: \"1:401386178744:web:0dae54f704bff03a6d4c4d\"\r\n};\r\n  \r\n// Initialize Firebase\r\n\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nexport const db = getFirestore(app);\r\nexport const auth = getAuth()","import { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { auth, db } from './firebase'\r\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from \"firebase/auth\";\r\nimport { setDoc, doc, getDoc, updateDoc, addDoc, collection, getDocs, onSnapshot } from \"firebase/firestore\";\r\n\r\nconst AuthContext = createContext({\r\n    currentUser: null,\r\n    currentUserData: { diamonds: '-' },\r\n    mineshopData: [],\r\n    stockData: [],\r\n    register: () => Promise,\r\n    login: () => Promise,\r\n    logout: () => Promise,\r\n    transfer: () => Promise,\r\n    getUserData: () => Promise,\r\n    createProduct: () => Promise,\r\n    getAllProducts: () => Promise,\r\n    getProduct: () => Promise,\r\n    addReview: () => Promise,\r\n    updateProduct: () => Promise,\r\n    updateProfile: () => Promise,\r\n    buyProduct: () => Promise,\r\n    updateOrderStatus: () => Promise,\r\n})\r\n\r\nexport const useAuth = () => useContext(AuthContext)\r\n\r\nexport default function AuthContextProvider({ children }) {\r\n    const [currentUser, setCurrentUser] = useState(null)\r\n    const [currentUserData, setCurrentUserData] = useState({ diamonds: '-' })\r\n    const [mineshopData, setMineshopData] = useState(null)\r\n    const [stockData, setStockData] = useState(null)\r\n\r\n    useEffect(() => {\r\n        let unsubscribeUserData = () => { }\r\n        let unsubscribeMineshop = () => { }\r\n        let unsubscribeStock = () => { }\r\n\r\n        const unsubscribe = onAuthStateChanged(auth, user => {\r\n            setCurrentUser(user)\r\n            if (user) {\r\n                unsubscribeUserData = onSnapshot(doc(db, \"users\", user.uid), (doc) => {\r\n                    // const source = doc.metadata.hasPendingWrites ? \"Local\" : \"Server\";\r\n                    // console.log(source, \" data: \", doc.data());\r\n\r\n                    setCurrentUserData(doc.data())\r\n                })\r\n            }\r\n\r\n            unsubscribeMineshop = onSnapshot(collection(db, \"goods\"), (querySnapshot) => {\r\n                const goods = new Map()\r\n                querySnapshot.forEach((doc, i) => {\r\n                    let id = doc.id\r\n                    doc = doc.data()\r\n                    doc['id'] = id\r\n\r\n                    goods.set(id, doc)\r\n                })\r\n                setMineshopData(goods)\r\n            })\r\n\r\n            unsubscribeStock = onSnapshot(doc(db, \"data\", \"stocks\"), (doc) => {\r\n                setStockData(doc.data().stocks)\r\n            })\r\n        })\r\n\r\n        return () => {\r\n\r\n            unsubscribe()\r\n            unsubscribeUserData()\r\n            unsubscribeMineshop()\r\n            unsubscribeStock()\r\n        }\r\n    }, [])\r\n\r\n    async function createProduct(img, name, price, description, by, uid, goods) {\r\n        let data = {\r\n            img: img,\r\n            name: name,\r\n            price: price,\r\n            description: description,\r\n            by: by,\r\n            uid: uid,\r\n            reviews: []\r\n        }\r\n        const docRef = await addDoc(collection(db, \"goods\"), data)\r\n\r\n        goods.push(docRef.id)\r\n\r\n        await updateDoc(doc(db, \"users\", uid), {\r\n            goods: goods\r\n        })\r\n    }\r\n\r\n    async function updateProduct(id, img, name, price, description) {\r\n        return await updateDoc(doc(db, \"goods\", id), {\r\n            img: img,\r\n            name: name,\r\n            price: price,\r\n            description: description\r\n        })\r\n    }\r\n\r\n    async function buyProduct(productData, sellerUid, buyerData, buyerUid) {\r\n        try {\r\n            let price = productData['price']\r\n            let date = new Date().getTime() + '#'\r\n\r\n            if (parseInt(buyerData['diamonds']) - parseInt(price) < 0) {\r\n                return ('Not enough money to buy ' + productData['name'] + '(' + (parseInt(price) - parseInt(buyerData['diamonds'])) + ' more needed)')\r\n            }\r\n\r\n            buyerData['diamonds'] = parseInt(buyerData['diamonds']) - parseInt(price)\r\n\r\n            let sellerData = await getUserData(sellerUid)\r\n\r\n            if (buyerData['nickname'] === sellerData['nickname']) {\r\n                return 'You can`t buy your product'\r\n            } else {\r\n                buyerData['recieved'].push({\r\n                    _key: date,\r\n                    from: productData['by'],\r\n                    price: price,\r\n                    name: productData['name'],\r\n                    img: productData['img'],\r\n                    address: buyerData['address'],\r\n                    done: false,\r\n                    status: 0\r\n                })\r\n\r\n                let sellerRequseted = sellerData['requested']\r\n                sellerRequseted.push({\r\n                    buyer: buyerUid,\r\n                    name: buyerData['nickname'],\r\n                    product: {\r\n                        price: price,\r\n                        img: productData['img'],\r\n                        address: buyerData['address'],\r\n                        name: productData['name']\r\n                    },\r\n                    status: 0,\r\n                    done: false,\r\n                    _key: date\r\n                })\r\n\r\n                sellerData = {\r\n                    diamonds: parseInt(sellerData['diamonds']) + parseInt(price),\r\n                    requested: sellerRequseted\r\n                }\r\n\r\n                await updateUserData(sellerUid, sellerData)\r\n                await updateUserData(buyerUid, buyerData)\r\n\r\n                return 'ok'\r\n            }\r\n        } catch (error) {\r\n            return error\r\n        }\r\n    }\r\n\r\n    async function updateOrderStatus(productData, sellerData, status, done, id, sellerUid) {\r\n        const buyerData = (await getDoc(doc(db, \"users\", productData['buyer']))).data()\r\n\r\n        console.log(id)\r\n        let ok = true\r\n        buyerData['recieved'].forEach((product, i) => {\r\n            if (product['_key'] === productData['_key']) {\r\n                buyerData['recieved'][i]['status'] = status\r\n                if (buyerData['recieved'][i]['done'] === true) {\r\n                    ok = false\r\n                }\r\n                buyerData['recieved'][i]['done'] = done\r\n            }\r\n        })\r\n\r\n        if (!ok) {\r\n            return 'Status already updated'\r\n        } else {\r\n            sellerData['requested'][id]['status'] = status\r\n            sellerData['requested'][id]['done'] = done\r\n\r\n            if (status === -1) {\r\n                sellerData['diamonds'] = parseInt(sellerData['diamonds']) - parseInt(productData['product']['price'])\r\n                buyerData['diamonds'] = parseInt(buyerData['diamonds']) + parseInt(productData['product']['price'])\r\n            }\r\n\r\n            await updateUserData(sellerUid, sellerData)\r\n            await updateUserData(productData['buyer'], buyerData)\r\n            return 'Updated'\r\n        }\r\n    }\r\n\r\n    async function getAllProducts() {\r\n        return await getDocs(collection(db, \"goods\"));\r\n    }\r\n\r\n    async function getProduct(id) {\r\n        return await getDoc(doc(db, \"goods\", id));\r\n    }\r\n\r\n    async function addReview(id, by, rating, description) {\r\n        const docSnap = await getDoc(doc(db, \"goods\", id))\r\n        const data = docSnap.data()\r\n        let reviews = docSnap.data()['reviews']\r\n\r\n        if (reviews === undefined)\r\n            reviews = []\r\n\r\n        reviews.push({\r\n            by: by,\r\n            rating: rating,\r\n            description: description\r\n        })\r\n\r\n        await updateDoc(doc(db, \"goods\", id), {\r\n            reviews: reviews\r\n        });\r\n    }\r\n\r\n    async function register(email, password, nickname) {\r\n        const docRef = doc(db, \"userRefs\", nickname);\r\n        const docSnap = await getDoc(docRef);\r\n        if (!(docSnap.data() === undefined))\r\n            return 'user-error'\r\n\r\n        return await createUserWithEmailAndPassword(auth, email, password).then(userObj => {\r\n            try {\r\n                setDoc(doc(db, \"users\", userObj.user.uid), {\r\n                    diamonds: 0,\r\n                    nickname: nickname,\r\n                    img: '',\r\n                    address: '',\r\n                    requested: [],\r\n                    recieved: [],\r\n                    transactions: [{\r\n                        img: '',\r\n                        who: 'Minebank',\r\n                        amount: '-',\r\n                        description: 'Welcome to Minebank!'\r\n                    }],\r\n                    goods: []\r\n                })\r\n                setDoc(doc(db, \"userRefs\", nickname), {\r\n                    uid: userObj.user.uid\r\n                })\r\n            } catch (e) {\r\n                console.error(\"Error adding document: \", e)\r\n            }\r\n        })\r\n    }\r\n\r\n    async function login(email, password) {\r\n        return signInWithEmailAndPassword(auth, email, password)\r\n    }\r\n\r\n    async function getUserData(uid) {\r\n        const docRef = doc(db, \"users\", uid);\r\n        const docSnap = await getDoc(docRef);\r\n\r\n        if (docSnap.exists()) {\r\n            return docSnap.data()\r\n        } else {\r\n            console.log(\"No such document!\");\r\n            return\r\n        }\r\n    }\r\n\r\n    async function transfer(recieverNickname, amount, desc, from) {\r\n        const docSnap = await getDoc(doc(db, \"userRefs\", recieverNickname))\r\n\r\n        if (docSnap.exists()) {\r\n            const recUid = docSnap.data()[\"uid\"]\r\n            const currentUid = currentUser.uid\r\n            let currentUserBal = await getDoc(doc(db, \"users\", currentUid))\r\n            let currentTransactions = currentUserBal.data()[\"transactions\"]\r\n            let senderImg = currentUserBal.data()['img']\r\n\r\n            currentUserBal = currentUserBal.data()[\"diamonds\"]\r\n\r\n            let recBal = await getDoc(doc(db, \"users\", recUid))\r\n            let recTransactions = recBal.data()[\"transactions\"]\r\n            let recieverImg = recBal.data()['img']\r\n\r\n            recBal = recBal.data()[\"diamonds\"]\r\n\r\n            if (currentUserBal - amount >= 0) {\r\n                currentTransactions.push({\r\n                    amount: `-${amount}`,\r\n                    who: `${recieverNickname}`,\r\n                    description: `${desc}`,\r\n                    img: recieverImg\r\n                })\r\n                await updateDoc(doc(db, \"users\", currentUid), {\r\n                    diamonds: currentUserBal - amount,\r\n                    transactions: currentTransactions\r\n                })\r\n\r\n                recTransactions.push({\r\n                    amount: `+${amount}`,\r\n                    who: `${from}`,\r\n                    description: `${desc}`,\r\n                    img: senderImg\r\n                })\r\n                await updateDoc(doc(db, \"users\", recUid), {\r\n                    diamonds: parseFloat(recBal) + parseFloat(amount),\r\n                    transactions: recTransactions\r\n                })\r\n                return 'success'\r\n            }\r\n            return 'You don`t have enough money for this'\r\n        } else {\r\n            return `User \"${recieverNickname}\" doesn\\`t exist`\r\n        }\r\n    }\r\n\r\n    async function updateProfile(uid, img, address) {\r\n        await updateDoc(doc(db, \"users\", uid), {\r\n            img: img,\r\n            address: address\r\n        })\r\n    }\r\n\r\n    async function updateUserData(uid, data) {\r\n        await updateDoc(doc(db, \"users\", uid), data)\r\n    }\r\n\r\n    function logout() {\r\n        return signOut(auth)\r\n    }\r\n\r\n    const value = {\r\n        currentUser,\r\n        currentUserData,\r\n        mineshopData,\r\n        stockData,\r\n        register,\r\n        login,\r\n        logout,\r\n        getUserData,\r\n        transfer,\r\n        createProduct,\r\n        getAllProducts,\r\n        getProduct,\r\n        addReview,\r\n        updateProduct,\r\n        updateProfile,\r\n        buyProduct,\r\n        updateOrderStatus,\r\n    }\r\n\r\n    return <AuthContext.Provider value={value}>\r\n        {/* {JSON.stringify(currentUserData)} */}\r\n        {children}\r\n    </AuthContext.Provider>\r\n}\r\n","import React from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { useAuth } from '../../firebase/AuthContext'\r\nimport './Topbar.css'\r\nimport './../Main.css'\r\n\r\nexport default function Topbar(props) {\r\n    const navigate = useNavigate()\r\n\r\n    const { logout, currentUser } = useAuth()\r\n    // console.log(currentUser + 'asadsadsadasda')\r\n    return (\r\n        <div className=\"topbar\">\r\n            <Link to=\"/home\" className=\"link left\">Minebank<sup>beta</sup></Link>\r\n\r\n            {(currentUser ?\r\n                <p className=\"link right login\" onClick={async e => {\r\n                    e.preventDefault()\r\n                    logout()\r\n                    // navigate('/home')\r\n                }}>Log out</p>\r\n                :\r\n                <Link className=\"link right login\" to=\"/login\">Log in</Link>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport './Landing.css'\r\nimport './Card.css'\r\nimport './../Main.css'\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Footer from '../footer/Footer'\r\nimport Topbar from '../user/Topbar';\r\nimport { useAuth } from '../../firebase/AuthContext';\r\n\r\nexport default function Landing() {\r\n    const navigate = useNavigate()\r\n    const { currentUser } = useAuth()\r\n\r\n    function handleMainRedirect() {\r\n        navigate('/signup')\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <Topbar />\r\n            <div className=\"frame\">\r\n                <div className=\"frame-content\">\r\n                    <h1 className=\"header\">Easy way to pay - Minebank</h1>\r\n\r\n                    <Card />\r\n\r\n                    <button onClick={handleMainRedirect} className=\"button center\">{currentUser ? 'Your profile' : 'Get card'}</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"frame card\">\r\n                <h1 className=\"header\">Why Minebank?</h1>\r\n                <div className=\"info\">\r\n                    <div className=\"container-info\">\r\n                        <h1 className=\"ci-header\">1. No payment fee </h1>\r\n                        <p>We don`t charge any money for payments.</p>\r\n                    </div>\r\n                    <div className=\"container-info\">\r\n                        <h1 className=\"ci-header\">2. Easy to use</h1>\r\n                        <p>App is easy to use, just create an account and you are ready to do some transactions.</p>\r\n                    </div>\r\n                    <div className=\"container-info\">\r\n                        <h1 className=\"ci-header\">3. Great customer service</h1>\r\n                        <p>We value our customers providing timely, attentive, upbeat service to a customer.</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* <div className=\"frame card\">\r\n                <h1 className='header'>Where?</h1>\r\n                photo here\r\n            </div> */}\r\n\r\n            <Footer />\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Card() {\r\n    return (\r\n        <div className=\"card-panel\">\r\n            <p className=\"card-num\">1234 5678 9876 5678</p>\r\n            <p className=\"card-info\">minepay</p>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { Link, Navigate, useLocation, useNavigate } from 'react-router-dom';\r\nimport Topbar from './Topbar'\r\nimport { useState } from 'react'\r\nimport { useAuth } from '../../firebase/AuthContext';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nexport default function Login() {\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const [loading, setLoading] = useState(false)\r\n    const [errorDesc, setErrorDesc] = useState('first')\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const location = useLocation()\r\n    const { login, currentUser } = useAuth()\r\n    const navigate = useNavigate()\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0)\r\n    }, []);\r\n\r\n    // console.log(location)\r\n    if (currentUser) {\r\n        navigate(location.state?.from ?? '/user')\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Topbar />\r\n            <div className='main-container'>\r\n                <div className='transfer-container'>\r\n                    <p className='partition-name center'>Welcome back!</p>\r\n                    <p className='tc-name'>Username:</p>\r\n                    <input value={email} onChange={(e) => setEmail(e.target.value)} className='input' type='text' placeholder='example@gmail.com' />\r\n                    <p className='tc-name'>Password:</p>\r\n                    <input value={password} onChange={(e) => setPassword(e.target.value)} className='input' type='password' placeholder='' />\r\n\r\n                    {\r\n                        loading ?\r\n                            <button disabled={1} className='button disabled'>Log In</button>\r\n                            :\r\n                            <button disabled={loading} onClick={async e => {\r\n                                e.preventDefault()\r\n                                setLoading(true)\r\n\r\n                                if (email && password) {\r\n                                    login(email, password)\r\n                                        // .then(response => console.log(response))\r\n                                        .catch(e => {\r\n                                            setErrorDesc(e.message)\r\n                                            enqueueSnackbar(e.message, { variant: 'error' })\r\n                                        })\r\n                                        .finally(() => {\r\n                                            setLoading(false)\r\n                                        })\r\n                                } else {\r\n                                    setErrorDesc('Enter valid data')\r\n                                    setLoading(false)\r\n                                    enqueueSnackbar('Enter valid data', { variant: 'error' })\r\n                                }\r\n                            }} className='button' > Log in</button>\r\n                    }\r\n\r\n                    <p className='subtext'>Don`t have an account? <Link className='link' to='/signup'>Sign up</Link></p>\r\n                </div>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { Link, Navigate } from \"react-router-dom\";\r\nimport Topbar from './Topbar'\r\n\r\nimport { useState } from 'react'\r\nimport { useAuth } from '../../firebase/AuthContext';\r\nimport Error from './Error';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nexport default function Signup() {\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const [loading, setLoading] = useState(false)\r\n    const [email, setEmail] = useState('')\r\n    const [nickname, setNickname] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const { currentUser } = useAuth()\r\n    const { register } = useAuth()\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0)\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            {currentUser ? <Navigate to=\"/user\" /> : \"\"}\r\n            <Topbar />\r\n            <div className=\"main-container\">\r\n                <div className=\"transfer-container\" id=\"auth\">\r\n\r\n                    <p className=\"partition-name center\">Sign up</p>\r\n\r\n                    <p className=\"tc-name\">Your nickname:</p>\r\n                    <input value={nickname} onChange={(e) => setNickname(e.target.value)} className=\"input\" type=\"text\" placeholder=\"\" />\r\n                    <p className=\"tc-name\">Email:</p>\r\n                    <input value={email} onChange={(e) => setEmail(e.target.value)} className=\"input\" type=\"text\" placeholder=\"example@gmail.com\" />\r\n                    <p className=\"tc-name\">Password:</p>\r\n                    <input value={password} onChange={(e) => setPassword(e.target.value)} className=\"input\" type=\"password\" placeholder=\"\" />\r\n\r\n                    {\r\n                        loading ?\r\n                            <button disabled={true} className='button disabled'>Register</button>\r\n                            :\r\n                            <button disabled={loading} onClick={async e => {\r\n                                if (email && password && nickname && nickname.indexOf(' ') < 0) {\r\n\r\n                                    e.preventDefault()\r\n\r\n                                    setLoading(true)\r\n\r\n                                    register(email, password, nickname)\r\n                                        .then(res => {\r\n                                            if (res)\r\n                                                if (res === \"user-error\") {\r\n                                                    enqueueSnackbar(\"Firebase: Error (auth/nickname-already-in-use)\", { variant: 'error' })\r\n                                                }\r\n                                        })\r\n                                        .catch(error => {\r\n                                            enqueueSnackbar(error.message, { variant: 'error' })\r\n                                        })\r\n                                        .finally(() => {\r\n                                            setLoading(false)\r\n                                        })\r\n                                } else {\r\n                                    enqueueSnackbar(\"Please enter valid user data\", { variant: 'error' })\r\n                                }\r\n                            }}\r\n                                className=\"button\" >Register</button>\r\n                    }\r\n\r\n                    <p className=\"subtext\">Already have an account? <Link className=\"link\" to=\"/login\">Log in</Link></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEUAAABiMiBPKxCmVyxCHgHNe0Z9QDSBVjS3mWPfw43///9lDEuzAAAAAXRSTlMAQObYZgAAAAFiS0dECmjQ9FYAAAAHdElNRQflAhAGBCzyvfE7AAAA00lEQVRo3u3YwQ2DMAxGYVZgha7ACqzQFViBFbpCt63sSv6FFbVWe3PeO0EkPnGJHFgWIvq7NbpFgICA2dosv9oj0X4LCAj4Bu9WUg9La4CA04IjdYs0vQAB5wZP62H5c9pr3g9DChCwG3hEUp+WX51R+eUAAbuBzmgqeb4my2/LWw8QsBs4spTA8kkOEHAuUJ872nqVMx0gYEsw/Q4YJboyqQAB+4KfJ1UCv0wqQMCWoG+kpI6SBQg4Iyg10Wq9VvnnAAjYEhzRqT0qW4CAfUEiUi/W/GvpYTdY6wAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0wMi0xNlQwNjowNDo0MyswMDowMKebzaQAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMDItMTZUMDY6MDQ6NDMrMDA6MDDWxnUYAAAAIHRFWHRzb2Z0d2FyZQBodHRwczovL2ltYWdlbWFnaWNrLm9yZ7zPHZ0AAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6SGVpZ2h0ADE2MCnLDLYAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgAMTYwujpc6wAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNjEzNDU1NDgzzTsrWgAAABB0RVh0VGh1bWI6OlNpemUAMjk1QnErY1cAAAA2dEVYdFRodW1iOjpVUkkAZmlsZTovLy90bXAvdGh1bWJsci9pbWcxMTc3MDU3MjAwODIzNjYyMTMzNYbEgDsAAAAASUVORK5CYII=\"","import React, { Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './UserNav.css'\r\n\r\nexport default function UserNav() {\r\n    return (\r\n        <nav className='nav-container'>\r\n            <Link className='nav-link' to='/user'>Bank</Link>\r\n            <Link className='nav-link' to='/mineshop'>Shop</Link>\r\n            <Link className='nav-link' to='/profile'>Profile</Link>\r\n            {/* <Link className='nav-link' to='/calculators'>Calculators</Link> */}\r\n        </nav>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/profile.18e6d1ec.png\";","import React, { useEffect, useState } from 'react'\r\nimport { Navigate } from 'react-router-dom'\r\nimport { useAuth } from '../../firebase/AuthContext'\r\nimport Footer from '../footer/Footer'\r\nimport Error from './Error'\r\nimport Topbar from './Topbar'\r\nimport item from './item.png'\r\nimport UserNav from './UserNav'\r\nimport { useSnackbar } from 'notistack';\r\nimport graySquare from './profile.png'\r\nimport './Infobar.css'\r\n\r\nexport default function User() {\r\n    const { currentUser, currentUserData, stockData } = useAuth()\r\n\r\n    return (\r\n        <div>\r\n            {!currentUser ? <Navigate to='/login' state={{ from: '/user' }} /> : ''}\r\n            <Topbar />\r\n            <div className='main-container'>\r\n                <Partition img={currentUserData['img']} text={`${currentUserData['nickname'] ? 'Hello, ' + currentUserData['nickname'] + '!' : 'Loading data'}`} />\r\n                <Card amount={currentUserData['diamonds']} />\r\n\r\n                <UserNav />\r\n\r\n                <Partition text={'Transfer'} />\r\n                <Transfer data={currentUserData} />\r\n\r\n                <Partition text={'Exchange'} />\r\n                <Infobar name={'Price'} data={stockData} />\r\n\r\n                <GenerateTransactions data={currentUserData[\"transactions\"]} />\r\n            </div>\r\n            <Footer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function Infobar(props) {\r\n\r\n    let data = props.data || [{ name: 'loading' }]\r\n\r\n    let result = []\r\n\r\n    data.forEach(stock => {\r\n        result.push(\r\n            <div className='ib-stock-container'>\r\n                <div className='ib-stock-title bold'>\r\n                    {stock['name']}\r\n                </div>\r\n                <div className='ib-stock-price'>\r\n                    <span className={`bold ${stock['color']}`}>{stock['price']}</span> Mc\r\n                </div>\r\n            </div>\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div className='ib-container'>\r\n            <div className='ib-title'>\r\n                {props.name}\r\n            </div>\r\n            <div className='ib-scroll-container' style={{ 'grid-template-columns': `repeat(${result.length},minmax(150px,1fr))` }}>\r\n                {result}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function Partition(props) {\r\n    let img = ''\r\n    if (props.img) {\r\n        img = <img src={props.img} className='profile-pic' onError={(e) => { e.target.onerror = null; e.target.src = graySquare }} />\r\n    }\r\n    return (\r\n        <div className='partition-container'>\r\n            {img}\r\n            <span className='partition-name'>{props.text}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function Card(props) {\r\n    return (\r\n        <div className='wide-card'>\r\n            <p className='wc-amount'><span className='big-font'>{props.amount}</span> minecoins</p>\r\n            <p className='wc-system'>minepay</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Transfer(props) {\r\n    const { enqueueSnackbar } = useSnackbar()\r\n    const { transfer } = useAuth()\r\n\r\n    const user = props.data\r\n    const [reciverNickname, setReciverNickname] = useState(null)\r\n    const [reciverAmount, setReciverAmount] = useState(null)\r\n    const [reciverText, setReciverText] = useState(`Money transfer`)\r\n\r\n    const [loading, setLoading] = useState(false)\r\n    const [status, setStatus] = useState(null)\r\n    const [description, setDescription] = useState('description')\r\n\r\n    function handleSend() {\r\n        setLoading(true)\r\n\r\n        if (!(reciverNickname && reciverAmount) || (reciverAmount < 1 || reciverAmount > 999999) || (parseInt(reciverAmount) !== parseFloat(reciverAmount))) {\r\n            setStatus('error')\r\n            setDescription('Enter valid data')\r\n            setLoading(false)\r\n            snackbar('Enter valid data', { variant: 'error' })\r\n        } else if (reciverNickname === user[\"nickname\"]) {\r\n            setStatus('error')\r\n            setDescription('Error: you can`t transfer money to yourself')\r\n            setLoading(false)\r\n            snackbar('Error: you can`t transfer money to yourself', { variant: 'error' })\r\n        } else {\r\n            transfer(reciverNickname, reciverAmount, reciverText, user['nickname'])\r\n                .then((res) => {\r\n                    setLoading(false)\r\n                    if (res !== 'success') {\r\n                        setStatus('error')\r\n                        setDescription(res)\r\n                        snackbar(res, { variant: 'error' })\r\n                    } else {\r\n                        setStatus('success')\r\n                        setDescription('Payment successfull')\r\n                        snackbar('Payment successfull', { variant: 'success' })\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    function snackbar(description, data) {\r\n        enqueueSnackbar(description, data)\r\n    }\r\n\r\n    return (\r\n        <div className='transfer-container'>\r\n            <p className='tc-name'>To:</p>\r\n            <input className='input' type='text' placeholder='recipient nickname' onChange={(e) => { setReciverNickname(e.target.value) }} />\r\n            <p className='tc-name'>Amount:</p>\r\n            <input className='input' type='number' placeholder='' onChange={(e) => { setReciverAmount(e.target.value) }} step=\"1\" />\r\n            <p className='tc-name'>Description:</p>\r\n            <input className='input' type='text' onChange={(e) => { setReciverText(e.target.value) }} maxLength={100} placeholder={`Money transfer`} />\r\n\r\n            {loading === true ?\r\n                <button className='button disabled' disabled={true}>Pending...</button>\r\n                :\r\n                <button className='button' onClick={handleSend}>Send</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction GenerateTransactions(props) {\r\n    let transactionList = props.data\r\n    let result = []\r\n\r\n    if (transactionList !== undefined) {\r\n        result.push(<Partition text={'All transactions'} />)\r\n        for (let i = Object.keys(transactionList).length - 1; i >= 0; i -= 1) {\r\n            result.push(<Transaction img={transactionList[i]['img']} name={transactionList[i]['who']} desc={transactionList[i]['description']} amount={transactionList[i]['amount']} />)\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            {result}\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Transaction(props) {\r\n    let profilePic = ''\r\n\r\n    if (props.img?.length === 0) {\r\n        profilePic = <div className='ts-img initial-letter'>{props.name[0].toUpperCase()}</div>\r\n    } else {\r\n        profilePic = <img className='ts-img' src={props.img} />\r\n    }\r\n    return (\r\n        <div className='transaction-card'>\r\n            {profilePic}\r\n            <p className='ts-name'>{props.name}</p>\r\n            <p className='ts-desc'>{props.desc}</p>\r\n            <p className={'ts-amount ' + (props.amount[0] === '+' ? 'green' : '')}>{props.amount}</p>\r\n        </div>\r\n    )\r\n}","import React, { Fragment, useEffect, useState } from 'react'\r\nimport Footer from '../footer/Footer'\r\nimport Topbar from './Topbar'\r\nimport './Mineshop.css'\r\nimport './../Main.css'\r\nimport item from './item.png'\r\nimport { Navigate, useNavigate } from 'react-router-dom'\r\nimport { useAuth } from '../../firebase/AuthContext'\r\nimport UserNav from './UserNav'\r\nimport { Partition } from './User'\r\nimport { useSnackbar } from 'notistack'\r\n\r\nexport default function Mineshop() {\r\n\tconst { currentUser, currentUserData, mineshopData } = useAuth()\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{!currentUser ? <Navigate to='/login' state={{ from: '/mineshop' }} /> : ''}\r\n\r\n\t\t\t<Topbar />\r\n\r\n\t\t\t<div className='main-container'>\r\n\t\t\t\t<Partition img={currentUserData['img']} text={`${currentUserData['nickname'] ? 'Hello, ' + currentUserData['nickname'] + '!' : 'Loading data'}`} />\r\n\r\n\t\t\t\t<Promo name={'Winter sale!'} description={'Updated stock!'} />\r\n\t\t\t\t<UserNav />\r\n\r\n\t\t\t\t<Partition text={\"All products\"} />\r\n\r\n\t\t\t\t<div className='product-container'>\r\n\t\t\t\t\t<GenerateProducts data={mineshopData} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Partition text={\"Your orders\"} />\r\n\r\n\t\t\t\t<GenerateOrders data={currentUserData['recieved']} />\r\n\r\n\t\t\t\t<Partition text={\"Your products\"} />\r\n\t\t\t\t<div className='product-container'>\r\n\t\t\t\t\t<GenerateUserProducts currentUserData={currentUserData} data={mineshopData} />\r\n\t\t\t\t\t<NewProduct />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Partition text={\"Requested products\"} />\r\n\t\t\t\t<GenerateRequested data={currentUserData['requested']} user={currentUserData} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<Footer />\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nfunction GenerateOrders(props) {\r\n\tlet result = []\r\n\r\n\tconst [shown, setShown] = useState(5)\r\n\tlet i = 0\r\n\r\n\tif (props.data !== undefined)\r\n\t\tif (props?.data['length']) {\r\n\t\t\tprops.data.slice().reverse().forEach(product => {\r\n\t\t\t\tlet statuses = ['Canceled', 'Waiting for seller', 'Done']\r\n\r\n\t\t\t\tif (i < shown)\r\n\t\t\t\t\tresult.push(<WideProduct name={`${product['name']} from ${product['from']}`} price={`${product['price']} Mc`} desc={statuses[parseInt(product['status'] + 1)]} img={product['img']} />)\r\n\t\t\t\ti += 1\r\n\t\t\t})\r\n\r\n\t\t\tif (shown < props.data.length) {\r\n\t\t\t\tresult.push(<button className='button' onClick={() => {\r\n\t\t\t\t\tsetShown(shown + 5)\r\n\t\t\t\t}}>Show more</button>)\r\n\t\t\t} else {\r\n\t\t\t\tif (i > 5)\r\n\t\t\t\t\tresult.push(<button className='button' onClick={() => {\r\n\t\t\t\t\t\tsetShown(5)\r\n\t\t\t\t\t}}>Hide</button>)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tresult.push(<NoData text=\"You haven`t made any orders yet\" />)\r\n\t\t}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{result}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nfunction GenerateProducts(props) {\r\n\tlet doc = props.data\r\n\r\n\tlet result = []\r\n\tif (doc)\r\n\t\tdoc.forEach((doc) => {\r\n\t\t\tresult.push(<ProductCard id={doc['id']} by={doc['by']} price={doc['price']} name={doc['name']} url={doc['img']} />)\r\n\t\t})\r\n\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{result}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nfunction GenerateUserProducts(props) {\r\n\tlet result = []\r\n\r\n\tlet userItemId = props.currentUserData['goods']\r\n\r\n\tif (userItemId !== undefined && props.data)\r\n\t\tuserItemId.forEach((doc) => {\r\n\t\t\tlet temp = props.data.get(doc)\r\n\r\n\t\t\tresult.push(<UserProductCard id={doc} by={'you'} price={temp['price']} name={temp['name']} url={temp['img']} description={temp['description']} />)\r\n\t\t})\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{result}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nfunction WideProduct(props) {\r\n\treturn (\r\n\t\t<div className='transaction-card'>\r\n\t\t\t<img className='ts-img no-bg' src={props.img} onError={(e) => { e.target.onerror = null; e.target.src = item }} />\r\n\t\t\t<p className='ts-name'>{props.name}</p>\r\n\t\t\t<p className='ts-desc'>{props.desc}</p>\r\n\t\t\t<p className='ts-amount'>{props.price}</p>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nfunction GenerateRequested(props) {\r\n\tlet result = []\r\n\tlet i = 0\r\n\r\n\tconst [shown, setShown] = useState(5)\r\n\r\n\tif (props.data !== undefined)\r\n\t\tif (props.data['length']) {\r\n\t\t\tprops.data.slice().reverse().forEach((product, id) => {\r\n\t\t\t\tif (i < shown)\r\n\t\t\t\t\tresult.push(<RequestedProduct id={props.data.length - id - 1} user={props.user} productData={product} done={product['done']} status={parseInt(product['status'])} name={`${product['product']['name']} for ${product['name']}`} price='buttons' desc={`${product['product']['price']} Mc${product['product']['address'] ? ',' : ''} ${product['product']['address']}`} img={product['product']['img']} />)\r\n\t\t\t\ti += 1\r\n\t\t\t})\r\n\r\n\t\t\tif (shown < props.data.length) {\r\n\t\t\t\tresult.push(<button className='button' onClick={() => {\r\n\t\t\t\t\tsetShown(shown + 5)\r\n\t\t\t\t}}>Show more</button>)\r\n\t\t\t} else {\r\n\t\t\t\tif (i > 5)\r\n\t\t\t\t\tresult.push(<button className='button' onClick={() => {\r\n\t\t\t\t\t\tsetShown(5)\r\n\t\t\t\t\t}}>Hide</button>)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tresult.push(<NoData text=\"You don`t have any requested products\" />)\r\n\t\t}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{result}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nfunction RequestedProduct(props) {\r\n\tconst { enqueueSnackbar } = useSnackbar()\r\n\tconst { updateOrderStatus, currentUser } = useAuth()\r\n\r\n\tconst [status, setStatus] = useState(props.status)\r\n\tconst [disabled, setDisabled] = useState(false)\r\n\r\n\tlet buttons = null\r\n\r\n\tif (props.done) {\r\n\t\tlet statuses = ['Canceled', 'Processing', 'Done']\r\n\r\n\t\tbuttons = <button className='product-status-button-disabled'>{statuses[props.status + 1]}</button>\r\n\t} else {\r\n\t\tbuttons = <div className='ts-button-container '>\r\n\t\t\t<button disabled={disabled} className={`product-status-button ${disabled ? 'product-button-disabled' : ''} ${status === 1 ? `product-button-active ${disabled ? 'product-button-active-disabled' : ''}` : ''}`} onClick={(e) => { setStatus(1) }}>Done</button>\r\n\t\t\t<button disabled={disabled} className={`product-status-button ${disabled ? 'product-button-disabled' : ''} ${status === 0 ? `product-button-active ${disabled ? 'product-button-active-disabled' : ''}` : ''}`} onClick={(e) => { setStatus(0) }}>Processing</button>\r\n\t\t\t<button disabled={disabled} className={`product-status-button ${disabled ? 'product-button-disabled' : ''} ${status === -1 ? `product-button-active ${disabled ? 'product-button-active-disabled' : ''}` : ''}`} onClick={(e) => { setStatus(-1) }}>Cancel</button>\r\n\t\t\t<button className={`product-status-button product-button-save ${disabled ? 'product-button-disabled' : ''}`} disabled={disabled} onClick={(e) => {\r\n\t\t\t\te.preventDefault()\r\n\r\n\t\t\t\tif (status === 0) {\r\n\t\t\t\t\tenqueueSnackbar('Pick \"Canceled\" or \"Done\"', { variant: 'warning' })\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetDisabled(true)\r\n\r\n\t\t\t\t\tupdateOrderStatus(props.productData, props.user, status, true, props.id, currentUser.uid)\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t\tenqueueSnackbar('Error', { variant: 'error' })\r\n\t\t\t\t\t\t\tsetDisabled(false)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tif (res === 'Updated') {\r\n\t\t\t\t\t\t\t\tenqueueSnackbar('Status updated', { variant: 'success' })\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tenqueueSnackbar(res, { variant: 'error' })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}}>Save</button>\r\n\t\t</div>\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='transaction-card wide'>\r\n\t\t\t<img className='ts-img no-bg' src={props.img} onError={(e) => { e.target.onerror = null; e.target.src = item }} />\r\n\t\t\t<p className='ts-name'>{props.name}</p>\r\n\t\t\t<p className='ts-desc'>{props.desc}</p>\r\n\t\t\t<div className='ts-amount'>\r\n\t\t\t\t{buttons}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport function NoData(props) {\r\n\treturn (\r\n\t\t<div className='no-data'>\r\n\t\t\t{props.text}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nfunction NewProduct() {\r\n\tconst { enqueueSnackbar } = useSnackbar()\r\n\r\n\tconst [img, setImg] = useState(null)\r\n\tconst [name, setName] = useState(null)\r\n\tconst [price, setPrice] = useState(null)\r\n\tconst [description, setDescription] = useState(null)\r\n\r\n\tconst { createProduct, currentUser, getUserData } = useAuth()\r\n\r\n\treturn (\r\n\t\t<div className='product-card padding-bottom'>\r\n\t\t\t<div>Img url</div>\r\n\t\t\t<input className='input whitesmoked' onChange={(e) => { setImg(e.target.value) }} />\r\n\t\t\t<div>Product name</div>\r\n\t\t\t<input className='input whitesmoked' onChange={(e) => { setName(e.target.value) }} />\r\n\t\t\t<div>Price</div>\r\n\t\t\t<input className='input whitesmoked' onChange={(e) => { setPrice(e.target.value) }} />\r\n\t\t\t<div>Description</div>\r\n\t\t\t<input className='input whitesmoked' onChange={(e) => { setDescription(e.target.value) }} />\r\n\r\n\t\t\t<div className='edit-button-container'>\r\n\t\t\t\t<button className='edit-button' onClick={() => {\r\n\t\t\t\t\tif (currentUser) {\r\n\t\t\t\t\t\tif (img && name && description && Number.isInteger(parseFloat(price)) && price > 0 && price < 1000000) {\r\n\t\t\t\t\t\t\tgetUserData(currentUser.uid)\r\n\t\t\t\t\t\t\t\t.then((res) =>\r\n\t\t\t\t\t\t\t\t\tcreateProduct(img, name, price, description, res['nickname'], currentUser.uid, res['goods'])\r\n\t\t\t\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tenqueueSnackbar('Product created', { variant: 'success' })\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tenqueueSnackbar('Enter valid data', { variant: 'error' })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}}>Create</button>\r\n\t\t\t</div>\r\n\t\t</div >\r\n\t)\r\n}\r\n\r\nfunction UserProductCard(props) {\r\n\tconst { enqueueSnackbar } = useSnackbar()\r\n\r\n\tconst [isEdit, setIsEdit] = useState(false)\r\n\tconst { updateProduct } = useAuth()\r\n\r\n\tconst [url, setUrl] = useState(props.url)\r\n\tconst [name, setName] = useState(props.name)\r\n\tconst [price, setPrice] = useState(props.price)\r\n\tconst [description, setDescription] = useState(props.description)\r\n\r\n\tlet card = ''\r\n\r\n\tif (isEdit) {\r\n\t\tcard = <div className='product-card'>\r\n\t\t\t<div>Img url</div>\r\n\t\t\t<input className='input whitesmoked' value={url} onChange={(e) => setUrl(e.target.value)} />\r\n\t\t\t<div>Product name</div>\r\n\t\t\t<input className='input whitesmoked' value={name} onChange={(e) => setName(e.target.value)} />\r\n\t\t\t<div>Price</div>\r\n\t\t\t<input className='input whitesmoked' value={price} onChange={(e) => setPrice(e.target.value)} />\r\n\t\t\t<div>Description</div>\r\n\t\t\t<input className='input whitesmoked' value={description} onChange={(e) => setDescription(e.target.value)} />\r\n\r\n\t\t\t<div className='edit-button-container'>\r\n\t\t\t\t<button className='edit-button' onClick={(e) => {\r\n\t\t\t\t\te.preventDefault()\r\n\r\n\t\t\t\t\tif (url && name && description && Number.isInteger(parseFloat(price)) && price > 0 && price < 1000000) {\r\n\r\n\t\t\t\t\t\tupdateProduct(props.id, url, name, price, description)\r\n\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\tenqueueSnackbar('Product updated', { variant: 'success' })\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tenqueueSnackbar('Enter valid data', { variant: 'error' })\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t}>Save</button>\r\n\t\t\t\t<button className='edit-button' onClick={(e) => {\r\n\t\t\t\t\te.preventDefault()\r\n\r\n\t\t\t\t\tsetIsEdit(false)\r\n\t\t\t\t}}>Cancel</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t} else {\r\n\t\tcard = <div className='product-card'>\r\n\t\t\t<img className='product-img' src={props.url} onError={(e) => { e.target.onerror = null; e.target.src = item }} />\r\n\t\t\t<div className='product-name'>{props.name}</div>\r\n\t\t\t<div className='product-price'>{props.price} <span className='thin'>Mc</span></div>\r\n\t\t\t<div className='product-detail'>By {props.by}</div>\r\n\r\n\t\t\t<button className='product-button' onClick={(e) => {\r\n\t\t\t\te.preventDefault()\r\n\r\n\t\t\t\tsetIsEdit(true)\r\n\t\t\t}}>Edit</button>\r\n\t\t</div>\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{card}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nfunction ProductCard(props) {\r\n\tlet navigate = useNavigate();\r\n\r\n\treturn (\r\n\t\t<div className='product-card'>\r\n\t\t\t<img className='product-img' src={props.url} onError={(e) => { e.target.onerror = null; e.target.src = item }} />\r\n\t\t\t<div className='product-name'>{props.name}</div>\r\n\t\t\t<div className='product-price'>{props.price} <span className='thin'>Mc</span></div>\r\n\t\t\t<div className='product-detail'>By {props.by}</div>\r\n\t\t\t<button className='product-button' onClick={() => { navigate(`${props.id}`) }}>View</button>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nfunction Promo(props) {\r\n\treturn (\r\n\t\t<div className='promo-card'>\r\n\t\t\t<div className='promo-name'>{props.name}</div>\r\n\t\t\t<div className='promo-description'>{props.description}</div>\r\n\t\t</div>\r\n\t)\r\n}","export default __webpack_public_path__ + \"static/media/back.58553c7d.svg\";","import React, { Fragment, useEffect, useState } from 'react'\r\nimport { Navigate, useNavigate, useParams } from \"react-router-dom\";\r\nimport Footer from '../footer/Footer';\r\nimport Topbar from './Topbar';\r\nimport './../Main.css'\r\nimport { useAuth } from '../../firebase/AuthContext';\r\nimport './ViewProduct.css'\r\nimport { useSnackbar } from 'notistack';\r\nimport item from './item.png'\r\nimport back from './back.svg'\r\n\r\nexport default function ViewProduct() {\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    let params = useParams();\r\n    let res = []\r\n\r\n    const { currentUser, currentUserData, mineshopData, buyProduct } = useAuth()\r\n\r\n    const navigate = useNavigate()\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0)\r\n    }, []);\r\n\r\n\r\n    if (mineshopData !== null)\r\n        if (mineshopData.get(params.productId)) {\r\n            res = <Fragment>\r\n                <Topbar />\r\n                <div className='main-container'>\r\n                    <div className='vp-back-container' onClick={() => { navigate('/mineshop') }}>\r\n                        <img className='vp-back-arrow' src={back} />\r\n                        <div className='vp-back-text'>Go back</div>\r\n                    </div>\r\n\r\n                    <div className='vp-product-container'>\r\n                        <img className='vp-img' src={mineshopData.get(params.productId)['img']} onError={(e) => { e.target.onerror = null; e.target.src = item }} />\r\n                        <div className='vp-info-container'>\r\n                            <h1 className='vp-name'>{mineshopData.get(params.productId)['name']}</h1>\r\n                            <div className='vp-price'>{mineshopData.get(params.productId)['price']} <span className='thin'>Mc</span></div>\r\n                            <p className='vp-description'>{mineshopData.get(params.productId)['description']}</p>\r\n                            <button className='vp-button' onClick={(e) => {\r\n                                e.preventDefault()\r\n\r\n                                buyProduct(mineshopData.get(params.productId), mineshopData.get(params.productId)['uid'], currentUserData, currentUser.uid)\r\n                                    .then(res => {\r\n                                        if (res === 'ok') {\r\n                                            enqueueSnackbar('Order created', { preventDuplicate: false, variant: 'success' })\r\n                                        } else {\r\n                                            enqueueSnackbar(res, { variant: 'error' })\r\n                                        }\r\n                                    })\r\n                            }}>Purchase</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <Partition text={'Reviews'} />\r\n\r\n                    <NewReview id={params.productId} />\r\n                    <GenerateReviews data={mineshopData.get(params.productId)['reviews']} />\r\n\r\n                </div>\r\n\r\n                <Footer />\r\n            </Fragment>\r\n        } else {\r\n            res = <Fragment>\r\n                <Topbar />\r\n                <div className='main-container'>\r\n                    <div className='vp-back-container' onClick={() => { navigate(-1) }}>\r\n                        <img className='vp-back-arrow' src={back} />\r\n                        <div className='vp-back-text'>Go back</div>\r\n                    </div>\r\n\r\n                    <NoData text='Looks like this product doesn`t exist' />\r\n                </div>\r\n                <Footer />\r\n            </Fragment>\r\n        }\r\n\r\n    return (\r\n        <Fragment>\r\n            {!currentUser ? <Navigate to='/login' state={{ from: '/mineshop/' + params.productId }} /> : ''}\r\n            {res}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nfunction NewReview(props) {\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const { currentUser, currentUserData, addReview } = useAuth()\r\n\r\n    const [rating, setRating] = useState(50)\r\n    const [description, setDescription] = useState('')\r\n    const [isPublished, setIsPublished] = useState(false)\r\n\r\n    return (\r\n        <div className='review-container'>\r\n            <div className='bold'>Your review: </div>\r\n            <input className={`range pointer ${(rating < 20 ? '' : rating < 30 ? 'orange' : (rating < 40 ? 'green' : 'lime'))}`} type=\"range\" min=\"0\" max=\"50\" value={rating} onChange={(e) => { setRating(e.target.value) }} />\r\n            <span className='review-rating'>\r\n                {rating / 10}/5\r\n            </span>\r\n\r\n            <input type='text' className='input whitesmoked left-float' placeholder='Type what you think about product' onChange={(e) => { setDescription(e.target.value) }} />\r\n            <button type='submit' className='publish-button' onClick={(e) => {\r\n                e.preventDefault()\r\n\r\n                if (isPublished === true) {\r\n                    enqueueSnackbar('Please, no spaming(refresh page if want you want to add another)', { variant: 'warning' })\r\n                } else {\r\n                    setIsPublished(true)\r\n                    addReview(props.id, currentUserData['nickname'], rating, description)\r\n                        .catch((err) => {\r\n                            enqueueSnackbar(err, { variant: 'error' })\r\n                        })\r\n                        .then(() => {\r\n                            enqueueSnackbar('Review posted', { variant: 'success' })\r\n                        })\r\n                }\r\n            }}>Publish</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction GenerateReviews(props) {\r\n    let data = props.data\r\n    let result = []\r\n    let temp = []\r\n    let sum = 0\r\n\r\n    if (data !== undefined && Object.keys(data).length !== 0) {\r\n        for (let i = Object.keys(data).length - 1; i >= 0; i -= 1) {\r\n            temp.push(<Review name={data[i]['by']} rating={data[i]['rating']} description={data[i]['description']} />)\r\n            sum += parseFloat(data[i]['rating'])\r\n        }\r\n        if (Object.keys(data).length > 1)\r\n            result.push(<Review name='AVERAGE SCORE' rating={Math.round(sum / Object.keys(data).length * 10) / 10} />)\r\n        result.push(temp)\r\n    } else {\r\n        result.push(<NoData text='No reviews yet' />)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {result}\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Review(props) {\r\n    let rating = props.rating\r\n    let name = props.name\r\n    let description = props.description\r\n\r\n    return (\r\n        <div className='review-container'>\r\n            <span className='bold'>{name}</span>\r\n            <input className={`range lr-margin ${(rating < 20 ? '' : rating < 30 ? 'orange' : (rating < 40 ? 'green' : 'lime'))} no-cursor`} type=\"range\" min=\"0\" max=\"50\" value={rating} disabled />\r\n            <span className='review-rating lr-margin'>\r\n                {rating / 10}/5\r\n            </span>\r\n            <p>\r\n                {description}\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Partition(props) {\r\n    let img = ''\r\n    if (props.img) {\r\n        img = <img src={props.img} className='profile-pic' />\r\n    }\r\n    return (\r\n        <div className='partition-container'>\r\n            {img}\r\n            <span className='partition-name'>{props.text}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction NoData(props) {\r\n    return (\r\n        <div className='no-data'>\r\n            {props.text}\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { Navigate } from 'react-router-dom'\r\nimport { Fragment } from 'react/cjs/react.production.min'\r\nimport { useAuth } from '../../firebase/AuthContext'\r\nimport Footer from '../footer/Footer'\r\nimport { NoData } from './Mineshop'\r\nimport Topbar from './Topbar'\r\nimport { Card, Partition } from './User'\r\nimport UserNav from './UserNav'\r\nimport { useSnackbar } from 'notistack'\r\n\r\nexport default function Profile() {\r\n    const { currentUser, currentUserData } = useAuth()\r\n\r\n    return (\r\n        <div>\r\n            {!currentUser ? <Navigate to='/login' state={{ from: '/profile' }} /> : ''}\r\n            <Topbar />\r\n            <div className='main-container'>\r\n                <Partition img={currentUserData['img']} text={`${currentUserData['nickname'] ? 'Hello, ' + currentUserData['nickname'] + '!' : 'Loading data'}`} />\r\n\r\n                <Card amount={currentUserData['diamonds']} />\r\n\r\n                <UserNav />\r\n\r\n                <Partition text={'Profile info'} />\r\n\r\n                <Settings img={currentUserData['img'] + 'a'} address={currentUserData['address']} uid={currentUser?.uid} />\r\n\r\n                {/* <Partition text={'Statistics'} />\r\n                <Statistics /> */}\r\n            </div>\r\n            <Footer />\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Settings(props) {\r\n    const { enqueueSnackbar } = useSnackbar()\r\n    const { updateProfile } = useAuth()\r\n\r\n    const [img, setImg] = useState(props.img)\r\n    const [address, setAddress] = useState(props.address)\r\n\r\n    return (\r\n        <Fragment>\r\n            <p className=\"tc-name\">Profile image url:</p>\r\n            <input className='input' value={img} onChange={(e) => { setImg(e.target.value) }} />\r\n            <p className=\"tc-name\">Delivery adress:</p>\r\n            <input className='input' value={address} onChange={(e) => { setAddress(e.target.value) }} />\r\n            <button className='button' onClick={(e) => {\r\n                e.preventDefault()\r\n\r\n                updateProfile(props.uid, img, address)\r\n                    .then(() => {\r\n                        enqueueSnackbar('Profile updated', { variant: 'success' })\r\n                    })\r\n            }}>Save</button>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nfunction Statistics() {\r\n\r\n    return (\r\n        <Fragment>\r\n            <p className=\"tc-name\">Times transfered: 10</p>\r\n            <p className=\"tc-name\">Products created: 4</p>\r\n            <p className=\"tc-name\">Products ordered: 8</p>\r\n            <p className=\"tc-name\">Products sold: 5</p>\r\n        </Fragment>\r\n    )\r\n}","import React, { Fragment, useEffect, useState } from 'react'\r\nimport Footer from '../footer/Footer'\r\nimport Topbar from './Topbar'\r\nimport { Card, Partition } from './User'\r\nimport { useAuth } from '../../firebase/AuthContext'\r\nimport UserNav from './UserNav'\r\nimport './Calculator.css'\r\nimport { NoData } from './Mineshop'\r\n\r\nexport default function Calculators() {\r\n    const { currentUser, getUserData, listenUserData } = useAuth()\r\n    const [userData, setUserData] = useState({ diamonds: '-' })\r\n\r\n    const [items, setItems] = useState(0)\r\n\r\n    useEffect(() => {\r\n        if (currentUser) {\r\n            getUserData(currentUser.uid)\r\n                .then(response => {\r\n                    setUserData(response)\r\n                })\r\n        }\r\n    }, []);\r\n\r\n    let itemRes = []\r\n\r\n    let num = items\r\n    if (num >= 1728) {\r\n        itemRes.push(<Fragment><span className=\"big\">{parseInt(num / 1728)}</span><span className=\"small\">{' shulcker' + (parseInt(num / 1728) <= 1 ? '' : 's') + ', '}</span></Fragment>)\r\n\r\n        num -= 1728 * parseInt(num / 1728)\r\n    }\r\n\r\n    if (num >= 64) {\r\n        itemRes.push(<Fragment><span className=\"big\">{parseInt(num / 64)}</span><span className=\"small\">{' stack' + (parseInt(num / 64) <= 1 ? '' : 's') + ', '}</span></Fragment>)\r\n    }\r\n\r\n    itemRes.push(<Fragment><span className=\"big\">{num % 64}</span><span className=\"small\">{' item' + (num % 64 <= 1 ? '' : 's')}</span></Fragment>)\r\n\r\n    return (\r\n        <div>\r\n            <Topbar />\r\n            <div className='main-container'>\r\n                <Partition img={userData['img']} text={`${userData['nickname'] ? 'Hello, ' + userData['nickname'] + '!' : 'Loading data'}`} />\r\n                <Card amount={userData['diamonds']} />\r\n                <UserNav />\r\n\r\n                <Partition text='Item' />\r\n                <input className=\"input\" type=\"number\" onChange={e => setItems(e.target.value)} min=\"0\" max={Number.MAX_SAFE_INTEGER} />\r\n\r\n                <p className=\"result\">{itemRes}</p>\r\n\r\n                <Partition text='Distance' />\r\n            </div>\r\n            <Footer />\r\n        </div>\r\n    )\r\n}\r\n","import { Routes, Route } from \"react-router\";\nimport { useNavigate } from 'react-router-dom';\nimport Landing from \"./pages/landing/Landing\";\nimport Login from \"./pages/user/Login\";\nimport Signup from \"./pages/user/Signup\";\nimport User from \"./pages/user/User\";\nimport './pages/Main.css'\nimport AuthContextProvider from \"./firebase/AuthContext\";\nimport Mineshop from \"./pages/user/Mineshop\";\nimport ViewProduct from \"./pages/user/ViewProduct\";\nimport Profile from \"./pages/user/Profile\";\nimport Calculators from \"./pages/user/Calculators\";\n\n\nfunction App() {\n\n  return (\n    <AuthContextProvider>\n      <Routes>\n        <Route path=\"user\" element={<User />} />\n        <Route path=\"mineshop\" element={<Mineshop />} />\n        <Route path=\"mineshop/:productId\" element={<ViewProduct />} />\n        <Route path=\"profile\" element={<Profile />} />\n        <Route path=\"calculators\" element={<Calculators />} />\n        <Route path=\"login\" element={<Login />} />\n        <Route path=\"signup\" element={<Signup />} />\n        <Route path=\"*\" element={<Landing />} />\n      </Routes>\n    </AuthContextProvider >\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\nimport { SnackbarProvider } from 'notistack';\n\nReactDOM.render(\n  //preventDuplicate\n  <SnackbarProvider >\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </SnackbarProvider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}